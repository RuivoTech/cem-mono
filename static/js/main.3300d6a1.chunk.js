(this.webpackJsonpcem=this.webpackJsonpcem||[]).push([[0],{139:function(e,a,t){e.exports=t.p+"static/media/Logo1.310e2928.jpg"},319:function(e,a,t){e.exports=t.p+"static/media/Logo3.3ba7f498.jpg"},320:function(e,a,t){e.exports=t.p+"static/media/Logo2.445771aa.jpg"},322:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAANhklEQVR4nO3daW8bVRuA4ScLpDQtktWmNEAKCASRqkp84v//AVAdh7Qhi50QL+Nt4mW8ZmbeD1V4p26SepkzZx77vj5C8Dkq6p1zjmdZC8MwFABQYN32BABgWgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGpu2JyAi0mw2JZ/P254GgAe8evVKdnZ2rM4hFcEaj8fS6XRsTwPAA8bjse0psCUEoAfBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgRioekRy39fV1efnype1pAFY5jiO+79ueRqyWNli//vqr7WkAVjWbzaULFltCAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqbNqeAD4YDAYyHo9lY2NDHj9+bHs6QCoRLAvCMBTXdaXRaEi9XpfhcPjJz2xubkomk5EXL15IJpORzU3+VwH8LUhYuVyWQqFwZ6Sibm5upFarSa1Wk42NDdnb25O9vT3Z2NhIaKZA+hCshHieJ0dHR+J53sz/re/7UigUpFQqyW+//SbPnj0zMEMg/Th0T0Cj0ZC//vprrlhFjUYjyeVycnl5GdPMAF0IlmGO40gulxPf92P7zPPzczk5OYnt8wAtCJZB7XZbjo+PjXx2sViUUqlk5LOBtCJYhozHYzk8PJQgCIyNcXp6Ku1229jnA2lDsAy5vLyU0WhkdIwgCOTs7MzoGMvM5C8TmEGwDBgMBlIsFhMZq9VqSb1eT2SsZXN+fi6dTsf2NDADgmVAqVRK9Lf3v//+m9hYy+L6+lqKxaKUy2XbU8EMCJYB1Wo10fHa7baMx+NEx9TM9305Pj6WMAzFcZxYv8GFWQQrZp7nyWAwSHTMMAylVqslOqZm+Xxe+v2+iHyIl+M4lmeEaRGsmLVaLSvjchYznVar9cn5IttCPQhWzJJeXd26XTHgfkEQyPv37yUMw4/+eafT4fIQJQhWzG5ubqyMyxnW50W3gpNYZelAsLAS2u22XF1d3fvvHcex9ssG0yNYMbP1+JcvvvjCyrga3LcVnPwZDt/Tj2DF7KuvvrIy7tbWlpVxNcjn89Lr9T77c9ybmX4EK2ZPnjyxMu7Tp0+tjJt2n9sKRnmeZ+1bXkyHYMXs6dOnVrZnmUwm8THTbpqt4CRWWelGsGK2trYmz58/T3TM7e1t2d7eTnRMDabdCkbVajW+cU0xgmXA999/L2tra4mN9+rVq8TG0mKWrWAUh+/pRrAM2N7elt3d3UTGevLkibx48SKRsbQIguC/ewXnwbYwvQiWIT/88IPxV3Otra3Jzz//nOhqToN8Pr/Q8/N7vZ5cX1/HOCPEhWAZsrW1Ja9fvzYak59++onD9gnzbgUnceV7OhEsgzKZjPzyyy9GPvubb77h7GrColvBKA7f04lgGfbdd9/J/v6+rK/H90e9t7cn+/v7sX3esri4uFj4VWq3giCQSqUSy2chPgQrAS9fvpTff/9dHj16tNDnbG5uyv7+PudWd+h0OrG/r5HD9/Thzc8J+frrr+WPP/6QYrEoFxcXM91ou76+Lru7u/Ljjz9yz+Ad5rlAdBr9fl9c1+WcMEUIVoLW19dlb29Pdnd3xXVdqVar4rrunfFaW1uTTCYjz549k+fPn3Ov4APi3ApOKpVKBCtFCJYFm5ubsrOzIzs7OyLy4TG90Suyt7a25Msvv7Q1PVVMbAWjGo2GjEYj/n+kBMFKgY2NDW5enoOpreDkGJVKhW9kU4JDdzyo2+2m9oWjl5eXxraCUaVSyWgUMT2ChXv5vi+Hh4dyeHiYumh1u12jW8GowWAgrusmMhYeRrBwr4uLCxkMBtJsNuXvv/9OTbRut4JJzodLHNKBYOFO3W73o1tcGo1GaqJ1eXkp3W430TEbjYYMh8NEx8SnCBbudHJy8kmcGo2GHB0dWY1WklvBqDAMub8wBQgWPlEqle59VHC9XrcWLRtbwahyuczhu2UECx8Zj8eSz+cf/Blb0bKxFYwaDofSbDatjQ+ChQmnp6dTPaUg6Wh5nmdlKziJw3e7CBb+02q1Zno8cL1el3fv3hmPVhiGVreCUc1mUwaDge1prCyCBRH5/7OkZlWr1eTdu3dGz3YuLy+l0+kY+/xZhGHIY2csIlgQEZGrq6uZ3zBzq1arydHRkZFoeZ4nFxcXsX/uIrjy3R6CBen3+1IoFBb6DBMrrTRtBaNGo5E0Gg3b01hJBAtyenoaSxSq1Wqs0UrTVnBSsVi0PYWVRLBWnOM4sa4WqtVqLE9QSONWMOr6+lr6/b7taawcgrXCfN+X8/Pz2D/XcZyFohWGoRwfH6duKxjFle92EKwVdnZ2Zuz+uEWidXV1Je1228Cs4lWpVFId1WVEsFZUt9s1vkJwHGfm1271er3PXmmfFhy+J49graDbb9+S+Gq+UqlMfX1XWr8VfAhXvieLYK2gcrmc6D15lUpF3r9//9mf07IVjHJdl8P3BBGsFTMcDuXs7CzxcT+30tK0FZzEKis5BMuypLc/5+fn4vt+omPeKpfLd0ZL41YwisP35BAsi1zXTfR56Y1GY6abm024K1oat4JR4/FYarWa7WmsBIJlUT6fl2azKblczni0giCQ09NTo2NMq1wuyz///CMiH24L0roVjGJbmAzeS2iJ67r/rSpc15VcLidv3ryR9XUzv0MKhUKqDodv/4Kn+TVis2i1WtLr9eTx48e2p7LUWGFZMrmqcF1XDg4OjPzl7fV6H71QIi1KpZLqreAkVlnmESwLoqurqOvra8lms7Efiqf9Npdl4TgOf86GESwLHjqzabVacnBwEFu0HMe594USiNd4PJZqtWp7GkuNYCXsvtVVVKvVkmw2Kzc3NwuNNR6PU3PQvirYFppFsBI27Tdi7XZbDg4OFopWPp+f6oUSiE+73RbP82xPY2kRrARNs7qKarfbc6+0Wq0Wv+0t4eF+5hCsBM1zvVGn05FsNjvTSikIAjk5OZl5LMSjWq1au5tg2RGshMy6uoqaNVpXV1dWXzi66m5ubjh8N4RgJWTRq7m73e5U0RoMBql+tPCq4GmkZhCsBCyyuorqdrvy9u3bB6N1cnLCdiQF2u12al+goRnBSkCc98p5nidv376V0Wj0yb+r1+s8ATNFWGXFj2AZFtfqKsrzPMlmsx9Fy/d9DtpTxnEcVrsxI1iGmXoSwe1K6/YlEoVCwdgLJTAf3/etP85n2RAsg0ysrqJ6vZ5ks1lpNBqpvLkZXPkeN4JlUBLPeer1epLL5RJ5oQRm1+12l+qJFLYRLENMr66gB6us+BAsQ5bhKZqIR7VaXfhGdnxAsAxgdYWoIAg4fI8JwTKA1RUmsS2MB8GKGasr3MXzPB6kGAOCFTNWV7gPq6zFEawYsbrCQ2q1Gg9UXBDBihGrKzwkCAKpVCq2p6EawYoJqytMgxuiF0OwYsLqCtPo9Xriuq7taahFsGLA6gqzYFs4P4IVA1ZXmAWH7/MjWAtidYVZcfg+P4K1IFZXmAfXZM2HYC2A1RXm1e/3OXyfA8FaAKsrLIJV1uwI1pxYXWFR9Xr9zpeJ4H4Ea06srrCoMAy5kHRGBGsOrK4Ql3K5zOOtZ7BpewIa9ft9+fbbb21PA0tiOBzKo0ePbE9DBYI1B2IF2MGWEIAaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBoEC4AaBAuAGgQLgBpL+YjkMAyl0+nYngZgVRAEtqcQu6UMlu/78ueff9qeBoCYsSUEoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoAbBAqAGwQKgBsECoMZaGIah7UkAwDRYYQFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVCDYAFQg2ABUINgAVDjfwXxayX33T/OAAAAAElFTkSuQmCC"},338:function(e,a,t){e.exports=t(613)},353:function(e,a){},355:function(e,a){},367:function(e,a){},369:function(e,a){},397:function(e,a){},398:function(e,a){},403:function(e,a){},405:function(e,a){},412:function(e,a){},431:function(e,a){},479:function(e,a,t){},480:function(e,a,t){},481:function(e,a,t){},482:function(e,a,t){},483:function(e,a,t){},518:function(e,a){},519:function(e,a){},612:function(e,a,t){},613:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(53),c=t.n(r),l=t(47),i=t(41),s=t(22),m=t(5),u=t.n(m),d=t(9),p=t(4),v=t(144),f=t(103),E=t.n(f),h=function(e){var a=e.nome,t=Object(i.g)();return o.a.createElement("div",{className:"menu"},o.a.createElement("div",{className:"col-sm-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("h2",{className:"h2 m-b-none",style:{textTransform:"capitalize"}},function(e){var t=e.split("/");return t[2]?t[1]+" > "+a:a}(t.pathname))))))},b=t(75),g=t(83),N=t.n(g),j="https://cem-api.ruivotech.com.br",O=(window.location.hostname,N.a.create({baseURL:j})),C="@BibliotecaDD:token",y=function(){return null!==sessionStorage.getItem(C)},x=function(){var e=sessionStorage.getItem(C);return JSON.parse(e)},w={converteData:function(e,a){var t=e?new Date("".concat(e.split("T")[0],"T00:00:00")):new Date("0000-00-00T00:00:00"),n=t.getFullYear(),o=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2),c="";switch(a){case"DD/MM":c=r+"/"+o;break;case"DD/MM/YY":c=r+"/"+o+"/"+n.substring(2,4);break;case"DD":c=r;break;case"MM/DD":c=o+"/"+r;break;case"YYYY-MM-DD":c=n+"-"+o+"-"+r;break;default:c=r+"/"+o+"/"+n}return t&&"0000"!==n&&null!==e?c:"-"},separarString:function(e,a){var t=e.split(" "),n="";if(t.length>=a)for(var o=0;o<a;o++)n=n+" "+t[o];else n=e;return n},converteMoeda:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=(e/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return a},mascaraTelefone:function(e){var a="";return e&&(a=(a=(a=e.replace(/\D/g,"")).replace(/^0/,"")).length>10?a.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):a.length>5?a.replace(/^(\d\d)(\d{4})(\d{0,4}).*/,"($1) $2-$3"):a.length>2?a.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):a.replace(/^(\d*)/,"($1")),a}},k=o.a.createContext(),A=(t(479),function(e){var a=e.onClick,t=Object(i.f)(),r=Object(n.useContext)(k).signOut,c=Object(n.useState)({id:"",nome:"",email:"",permissoes:[{id:"",menuPermissao:"",grupoMenuPermissao:"",chEsUsuario:"",chEsMenuPermissao:""}]}),s=Object(p.a)(c,2),m=s[0],v=s[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x(),t=E.a.decode(a.token),e.next=4,O.get("/usuarios/"+t.id,{headers:{Authorization:"Bearer ".concat(a.token)}});case 4:n=e.sent,v(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return o.a.createElement("div",{className:"sidebar"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"user-info"},o.a.createElement("span",{className:"user-name"},o.a.createElement(l.b,{to:"/configuracao/perfil",title:"Meu perfil"},w.separarString(m.nome,2))),o.a.createElement("span",{className:"user-email"},m.email),o.a.createElement(l.b,{className:"user-logout",to:"#",onClick:function(){r(),t.push("/")}},o.a.createElement("i",{className:"fa fa-sign-out"})," ",o.a.createElement("span",{className:"d-sm-inline"},"Sair")))),o.a.createElement("ul",{className:"nav flex-column flex-nowrap"},o.a.createElement("li",{className:"nav-item",key:"dashboard"},o.a.createElement(l.c,{className:"nav-link sidebar-link",activeClassName:"sidebar-link-active",to:"/dashboard",onClick:a},o.a.createElement("span",{className:"d-sm-inline"},"Dashboard"))),m.permissoes.map((function(e){return o.a.createElement("li",{className:"nav-item",key:e.chEsMenuPermissao},o.a.createElement(l.c,{className:"nav-link sidebar-link",activeClassName:"sidebar-link-active",to:"/".concat(e.menuPermissao),onClick:a},o.a.createElement("span",{className:"d-sm-inline"},e.descricao)))}))),o.a.createElement("div",{className:"fixed-bottom"},o.a.createElement("div",{className:"col"},o.a.createElement("p",{className:"h5"},o.a.createElement("a",{className:"sidebar-link",href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o"," ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))}),S=["component","path","location","name"],B=function(e){var a=e.component,t=e.path,r=(e.location,e.name),c=Object(v.a)(e,S),l=Object(n.useContext)(k).signOut,s=Object(i.f)(),m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],g=f[1],N=Object(n.useState)({id:"",nome:"",email:"",permissoes:[{id:"",menuPermissao:"",grupoMenuPermissao:"",chEsUsuario:"",chEsMenuPermissao:""}]}),j=Object(p.a)(N,2),C=j[0],w=j[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y()){e.next=10;break}return g(!b),a=x(),t=E.a.decode(a.token),e.next=6,O.get("/usuarios/"+t.id,{headers:{Authorization:"Bearer ".concat(a.token)}});case 6:n=e.sent,w(n.data),e.next=12;break;case 10:l(),s.push("/");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){B()}))}),[]),Object(n.useEffect)((function(){B()}),[t]);var B=function(){C.permissoes.findIndex((function(e){return"/".concat(e.menuPermissao)===t}))<0&&s.push("/dashboard")};return b&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null),o.a.createElement(h,{nome:r}),o.a.createElement(i.a,{path:t,render:function(e){return o.a.createElement(a,Object.assign({},e,c))}}))},F=t(319),z=t.n(F),D=t(139),T=t.n(D),M=function(){var e=Object(i.f)(),a=Object(n.useContext)(k).signIn,t=Object(n.useState)(!1),r=Object(p.a)(t,2),c=r[0],l=r[1],s=Object(n.useState)(""),m=Object(p.a)(s,2),v=m[0],f=m[1],E=Object(n.useState)(""),h=Object(p.a)(E,2),g=h[0],N=h[1],j=Object(n.useState)(""),C=Object(p.a)(j,2),y=C[0],x=C[1],w=function(){var t=Object(d.a)(u.a.mark((function t(n){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),l(!0),v&&g){t.next=6;break}x("Preencha e-mail e senha para continuar!"),t.next=16;break;case 6:return t.prev=6,t.next=9,O.post("/login",{email:v,senha:g});case 9:(o=t.sent).data.error?(l(!1),x(o.data.error)):(a(o.data),l(!1),e.push("/dashboard")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},o.a.createElement("img",{src:z.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:0,top:0,width:"50%",height:"100vh",opacity:.2}}),o.a.createElement("img",{src:T.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:"50%",top:0,width:"50%",height:"100vh",opacity:.4}}),o.a.createElement("div",{className:"card",style:{width:"24vw",borderRadius:"10px",boxShadow:"15px 15px 12px 2px rgba(61, 61, 61, 0.8)"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",{style:{textAlign:"center",marginTop:"2vh",lineHeight:1}},"Login")),o.a.createElement("div",{className:"card-body"},o.a.createElement("form",{onSubmit:w},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail"),o.a.createElement("input",{type:"text",id:"email",className:"form-control",placeholder:"Digite seu email...",value:v,onChange:function(e){return f(e.target.value)},readOnly:c,autoFocus:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"senha"},"Senha"),o.a.createElement("input",{type:"password",id:"senha",className:"form-control",placeholder:"Digite sua senha...",value:g,onChange:function(e){return N(e.target.value)},readOnly:c})),o.a.createElement("button",{className:"btn btn-success btn-block",style:{fontSize:18,fontWeight:700,lineHeight:1.2},disabled:c},"Entrar"))),o.a.createElement("div",{className:"card-footer",style:{minHeight:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.a.createElement("div",null,y&&o.a.createElement("p",{className:"text-danger"},y)),o.a.createElement("div",null,o.a.createElement("p",{className:"h5"},o.a.createElement("a",{href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))))},q=function(){return o.a.createElement("div",{className:"text-center text-success"},o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only "},"Carregando...")))},I=t(24),P=(t(480),function(e){var a=e.icone,t=e.titulo,n=e.quantidade,r=e.corFundo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 col-xl-2"},o.a.createElement("div",{className:"info-box bg-"+r+" hover-expand-effect",style:{border:"1px solid ".concat({success:{color:"rgb(0, 255, 0)",shadow:"rgba(0, 255, 0, 0.8)"},danger:{color:"rgb(255, 0, 0)",shadow:"rgba(255, 0, 0, 0.8)"},warning:{color:"rgb(255, 255, 0)",shadow:"rgba(255, 255, 0, 0.8)"},primary:{color:"rgb(0, 0, 255)",shadow:"rgba(0, 0, 255, 0.8)"},info:{color:"rgb(0, 255, 255)",shadow:"rgba(0, 255, 255, 0.8)"}}[r].color),boxShadow:"2px 2px 5px 2px rgba(61, 61, 61, 0.8)"}},o.a.createElement("div",{className:"icon h-100"},o.a.createElement(I.a,{icon:["fas",a],size:"lg"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"text"},t),o.a.createElement("div",{className:"number"},n)))))}),Y=(t(481),t(49)),V="LEFT",G=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,o=[];n<=a;)o.push(n),n+=t;return o},L=function(e){var a=e.data,t=void 0===a?[]:a,r=e.renderItems,c=e.limiteItems,l=void 0===c?20:c,i=e.pageNeighbours,s=void 0===i?1:i,m=Object(n.useState)(1),u=Object(p.a)(m,2),d=u[0],v=u[1],f=l,E=t.length,h=Math.ceil(E/f),b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1],O=Object(n.useState)(0),C=Object(p.a)(O,2),y=C[0],x=C[1],w=Object(n.useState)(0),k=Object(p.a)(w,2),A=k[0],S=k[1];Object(n.useEffect)((function(){B(1)}),[t]),Object(n.useEffect)((function(){!function(){var e=2*s+3;if(h>e+2){var a=Math.max(2,d-s),t=Math.min(h-1,d+s),n=G(a,t),o=a>2,r=h-t>1,c=e-(n.length+1);switch(!0){case o&&!r:var l=G(a-c,a-1);n=[V].concat(Object(Y.a)(l),Object(Y.a)(n));break;case!o&&r:var i=G(t+1,t+c);n=[].concat(Object(Y.a)(n),Object(Y.a)(i),["RIGHT"]);break;case o&&r:default:n=[V].concat(Object(Y.a)(n),["RIGHT"])}j([1].concat(Object(Y.a)(n),[h]))}else j(G(1,h))}()}),[d]);var B=function(e){var a=Math.max(0,Math.min(e,h)),n=(a-1)*f,o=t.slice(n,n+f);x(n+1),S(n+f),v(a),r(o)};return 0===E?o.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Nenhuma informa\xe7\xe3o encontrada."):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Exibindo de ",y>E?E:y," a ",A>E?E:A," / Total ",E),o.a.createElement("div",{className:"dataTables_paginate paging_simple_numbers pull-right pt-3"},o.a.createElement("ul",{className:"pagination"},N.map((function(e,a){return e===V?o.a.createElement("li",{key:a,className:"page-item"},o.a.createElement("button",{className:"page-link",onClick:function(){return B(d-1)}},o.a.createElement("span",{"aria-hidden":"true"},"\xab"),o.a.createElement("span",{className:"sr-only"},"Anterior"))):"RIGHT"===e?o.a.createElement("li",{key:a,className:"page-item"},o.a.createElement("button",{className:"page-link",onClick:function(){return B(d+1)}},o.a.createElement("span",{"aria-hidden":"true"},"\xbb"),o.a.createElement("span",{className:"sr-only"},"Pr\xf3xima"))):o.a.createElement("li",{key:a,className:"page-item".concat(d===e?" active":"")},o.a.createElement("button",{className:"page-link",onClick:function(){return B(e)}},e))})))))},Q=function(e){var a=e.titulo,t=e.tituloBotao,r=e.mostrarBotaoNovo,c=e.mostrarBotaoRelatorio,l=e.data,i=void 0===l?[]:l,s=e.handleShow,m=e.handleShowRelatorio,u=e.height,d=e.corLinha,v=e.children,f=void 0===v?[]:v,E=e.limiteItems,h=void 0===E?20:E,b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tabela"},a&&o.a.createElement("div",{className:"tabela-titulo"},o.a.createElement("div",{className:"h1 pull-left"},a),o.a.createElement("div",{className:"tabela-config"},c&&o.a.createElement("button",{type:"button",onClick:function(){return m()},className:"btn btn-outline-secondary mr-2"},"Gerar PDF"),r&&o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{className:"btn btn-outline-primary ml-2",type:"button",title:t,onClick:function(){return s()}},t)))),o.a.createElement("div",{className:"tabela-corpo"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"dataTables_wrapper"},o.a.createElement("div",{className:"overflow-hidden",style:u},o.a.createElement("table",{className:"table table-sm table-striped table-hover"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",null,f.map((function(e){return o.a.createElement("th",{scope:"col",key:e.props.titulo,style:{width:e.props.tamanho+"vw"}},e.props.titulo)})))),o.a.createElement("tbody",{className:"overflow-auto",style:{maxHeight:"calc(80vh - 230px)"}},null===N||void 0===N?void 0:N.map((function(e,a){return o.a.createElement("tr",{role:"row",key:a,className:d?d(e):null},o.a.Children.map(f,(function(a){var t=a.props.corpo?a.props.corpo(e):function(e,a){var t=e.split("."),n=Object(p.a)(t,2),o=n[0],r=n[1];return o&&r?a[o][r]:a[e]}(a.props.campo,e);return o.a.cloneElement(a,{valor:t,className:a.props.className})})))}))))),o.a.createElement(L,{data:i,renderItems:function(e){j(e)},limiteItems:h}))))))},R=["valor","className","tamanho","corpo"],K=function(e){var a=e.valor,t=e.className,n=e.tamanho,r=(e.corpo,Object(v.a)(e,R));return o.a.createElement(o.a.Fragment,null,o.a.createElement("td",Object.assign({className:"align-middle "+t,style:{width:n+"vw"}},r),a))},W=Object(i.h)((function(){var e=Object(n.useState)({}),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!0),l=Object(p.a)(c,2),i=l[0],s=l[1],m=(new Date).toLocaleString("pt-BR",{month:"long"});return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x(),e.next=3,O.get("/home",{headers:{Authorization:"Bearer ".concat(a.token)}});case 3:t=e.sent,r(t.data),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Dashboard - Cadastro de Membros CEM",e()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement(P,{corFundo:"success",icone:"users",quantidade:t.quantidadeMembros,titulo:"Membros"}),o.a.createElement(P,{corFundo:"danger",icone:"globe",quantidade:t.quantidadeVisitantes,titulo:"Visitantes"}),o.a.createElement(P,{corFundo:"info",icone:"calendar",quantidade:t.quantidadeEventos,titulo:"Eventos"})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement(Q,{titulo:"Aniversariantes de ".concat(m),data:t.aniversariantes},o.a.createElement(K,{titulo:"Dia",campo:"dataNascimento",corpo:function(e){return w.converteData(e.dataNascimento,"DD")},tamanho:3}),o.a.createElement(K,{titulo:"Nome",campo:"nome",tamanho:20}),o.a.createElement(K,{titulo:"Idade",campo:"idade",tamanho:4}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement(Q,{titulo:"Casados de ".concat(m),data:t.casados},o.a.createElement(K,{titulo:"Dia",campo:"dataNascimento",corpo:function(e){return w.converteData(e.dataCasamento,"DD")},tamanho:3}),o.a.createElement(K,{titulo:"Nome",campo:"nome",tamanho:20}),o.a.createElement(K,{titulo:"Idade",campo:"idade",tamanho:4}))),i&&o.a.createElement(q,null)))})),U=function(){return o.a.createElement("h1",null,"Not Found")},H=function(){return o.a.createElement("div",{className:"container"},"Recuperar")},X=t(17),Z=t(6),J=t(320),_=t.n(J),$=(t(482),function(){var e=Object(n.useState)({}),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)(!1),f=Object(p.a)(v,2),E=f[0],h=f[1],g=Object(n.useState)(""),N=Object(p.a)(g,2),j=N[0],C=N[1],y=Object(s.useToasts)().addToast;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Inscri\xe7\xf5es para eventos do CEM",e.next=3,O.get("/eventosInscricao",{params:{ativo:!0}});case 3:a=e.sent,m(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(e){r(Object(Z.a)(Object(Z.a)({},t),{},Object(X.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(!0),r(Object(Z.a)(Object(Z.a)({},t),{},{pago:!1})),e.next=5,O.post("/inscricao",t);case 5:(n=e.sent).data.error?(console.error(n.data.error),y("Desculpe, algo deu errado, por favor entre em contato com seu pastor.",{appearance:"error"}),C(n.data.error)):(y("Inscri\xe7\xe3o salva com sucesso!",{appearance:"success"}),r({})),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},o.a.createElement("img",{src:_.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:0,top:0,width:"50%",height:"100vh",opacity:.2}}),o.a.createElement("img",{src:T.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:"50%",top:0,width:"50%",height:"100vh",opacity:.4}}),o.a.createElement("div",{className:"card inscricaoCard"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",{style:{textAlign:"center",marginTop:"2vh",lineHeight:1}},"Inscri\xe7\xf5es para eventos do CEM")),o.a.createElement("div",{className:"card-body"},j&&o.a.createElement("div",{className:"alert alert-danger",role:"alert"},j),o.a.createElement("form",{className:"form-sigin",onSubmit:w},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"nome",onChange:x,placeholder:"Nome completo",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control evento",name:"evento",onChange:x,required:!0},o.a.createElement("option",{value:""},"Escolha um evento"),i.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control email",type:"email",name:"email",onChange:x,placeholder:"Email",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"celular",onChange:x,placeholder:"Celular",required:!0})),o.a.createElement("div",{className:"custom-control custom-checkbox mb-3"}),o.a.createElement("button",{className:"btn btn-lg btn-success btn-block text-uppercase",type:"submit",disabled:E},"Inscrever-se"),o.a.createElement("hr",{className:"my-4"}))),o.a.createElement("div",{className:"card-footer",style:{minHeight:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.a.createElement("div",null,j&&o.a.createElement("p",{className:"text-danger"},j)),o.a.createElement("div",null,o.a.createElement("p",{className:"h5"},o.a.createElement("a",{href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))))}),ee=function(){var e=Object(i.f)(),a=Object(n.useContext)(k).signOut,t=Object(n.useState)({}),r=Object(p.a)(t,2),c=r[0],l=r[1],s=Object(n.useState)(""),m=Object(p.a)(s,2),v=m[0],f=m[1],h=Object(n.useState)("form-control"),b=Object(p.a)(h,2),g=b[0],N=b[1],j=Object(n.useState)({}),C=Object(p.a)(j,2),y=C[0],w=C[1],A=x();Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.decode(A.token),e.next=3,O.get("/usuarios/"+a.id,{headers:{Authorization:"Bearer ".concat(A.token)}}).then((function(e){e.data.error||l(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,O.put("/usuarios",c,{headers:{Authorization:"Bearer ".concat(A.token)}});case 4:(n=t.sent).data.error?w({mensagem:n.data.error,className:"danger"}):(w({mensagem:"Usu\xe1rio alterado com sucesso!",className:"success"}),confirm("Por favor, fa\xe7a login novamente!")&&(a(),e.push("/"))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),B=function(e){l(Object(Z.a)(Object(Z.a)({},c),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content d-flex justify-content-center mt-2"},o.a.createElement("div",{className:"card",style:{minHeight:"20vh"}},o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:null===c||void 0===c?void 0:c.nome,onChange:B}))),o.a.createElement("div",{className:"col-sm-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",value:null===c||void 0===c?void 0:c.email,onChange:B}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"senha"},"Senha:"),o.a.createElement("input",{className:g,type:"password",id:"senha",name:"senha",value:null===c||void 0===c?void 0:c.senha,onChange:B}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"verificarSenha"},"Verificar Senha:"),o.a.createElement("input",{className:g,type:"password",id:"verificarSenha",name:"verificarSenha",value:v,onChange:function(e){c.senha===e.target.value?N("form-control is-valid"):N("form-control is-invalid"),f(e.target.value)}})))),o.a.createElement("div",{className:"position-absolute fixed-bottom p-2 border-top overflow-hidden"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:S},"Salvar")),o.a.createElement("div",{className:"col-md-6"},y&&o.a.createElement("div",{className:"bg-"+y.className+" rounded"},o.a.createElement("p",{className:"text-white px-2"},y.mensagem)))))))},ae=t(629),te=t(614),ne=t(615),oe=t(616),re=t(617),ce=t(618),le=t(619),ie=t(620),se=t(621),me=t(622),ue=t(28),de=function e(){Object(ue.a)(this,e),this.explicitType="permissao",this.id=0,this.chEsUsuario=0,this.chEsMenuPermissao=0,this.inserir=!1,this.alterar=!1,this.visualizar=!1,this.remover=!1,this.menuPermissao=""},pe=function e(){Object(ue.a)(this,e),this.explicitType="usuario",this.id=0,this.nome="",this.senha="",this.email="",this.chEsMembro="",this.chEsUsuario="",this.permissoes=[de]},ve=t(321),fe=t(336),Ee=t(335),he=(t(483),function(e){Object(fe.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(ue.a)(this,t),(n=a.call(this,e)).onChange=function(e){var a=n.props,t=a.suggestions,o=a.field,r=t.filter((function(a){return a[o].toLowerCase().includes(e.currentTarget.value.toLowerCase())}));n.setState({activeSuggestion:0,filteredSuggestions:r,showSuggestions:!0}),n.props.onChange(e)},n.onClick=function(e){var a=n.state,t=a.activeSuggestion,o=a.filteredSuggestions,r=o.filter((function(a){return a.id===Number(e.currentTarget.id)?a:null}));r=r[0],n.setState({activeSuggestion:0,showSuggestions:!1,userInput:o[t]}),n.props.onClick(r)},n.onKeyDown=function(e){var a=n.state,t=a.activeSuggestion,o=a.filteredSuggestions;if(13===e.keyCode)e.preventDefault(),n.setState({activeSuggestion:0,showSuggestions:!1,userInput:o[t]}),n.props.onClick(o[t]);else if(38===e.keyCode){if(0===t)return;n.setState({activeSuggestion:t-1})}else if(40===e.keyCode){if(t-1===o.length)return;n.setState({activeSuggestion:t+1})}else(8===e.keyCode||27===e.keyCode)&&e.currentTarget.value.length<2&&n.setState({activeSuggestion:0,showSuggestions:!1})},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1},n}return Object(ve.a)(t,[{key:"render",value:function(){var e,a=this.onChange,t=this.onClick,r=this.onKeyDown,c=this.state,l=c.activeSuggestion,i=c.filteredSuggestions,s=c.showSuggestions,m=this.props,u=m.className,d=m.name,p=m.value,v=m.field,f=m.autoComplete;return s&&(e=i.length?o.a.createElement("ul",{className:"suggestions"},i.map((function(e,a){var n;return a===l&&(n="suggestion-active"),o.a.createElement("li",{className:n,key:a,onClick:t,id:e.id},o.a.createElement("span",{style:{minWidth:"25px",display:"inline-block"}},e.id)," - ",o.a.createElement("span",null,e[v]))}))):o.a.createElement("div",{className:"no-suggestions"},o.a.createElement("em",null,"Nenhuma informa\xe7\xe3o encontrada, verifique os dados informados!"))),o.a.createElement(n.Fragment,null,o.a.createElement("input",{type:"text",onChange:a,onKeyDown:r,value:p,className:u,name:d,autoComplete:f}),e)}}]),t}(n.Component));he.defaultProps={suggestions:[]};var be=he,ge=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=e.listaMenu,m=Object(n.useState)({}),v=Object(p.a)(m,2),f=v[0],E=v[1],h=Object(n.useState)("perfil"),b=Object(p.a)(h,2),g=b[0],N=b[1],j=Object(n.useState)(!1),C=Object(p.a)(j,2),y=C[0],w=C[1],k=Object(s.useToasts)(),A=k.addToast,S=k.removeAllToasts,B=x();Object(n.useEffect)((function(){E(a),S()}),[a,S]),Object(n.useEffect)((function(){w(!1)}),[t]);var F=function(e){g!==e&&N(e)},z=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),w(!0),(t=new pe).id=f.id?f.id:0,t.nome=f.nome,t.email=f.email,t.nivel=f.nivel,t.permissoes=f.permissoes,n="",0===Number(t.id)){e.next=15;break}return e.next=12,O.put("/usuarios",t,{headers:{Authorization:"Bearer ".concat(B.token)}});case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,O.post("/usuarios",t,{headers:{Authorization:"Bearer ".concat(B.token)}});case 17:n=e.sent;case 18:n.data.error?(console.error(n.data.error),A("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):A("Usu\xe1rio salvo com sucesso!",{appearance:"success"}),w(!1);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];E(o?Object(Z.a)(Object(Z.a)({},f),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},f),{},Object(X.a)({},e.target.name,e.target.value)))},T=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n,o,r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.name.split("."),n=Object(p.a)(t,2),n[0],o=n[1],r=f.permissoes.findIndex((function(e){return e.chEsMenuPermissao===a.target.id})),c=i.filter((function(e){return Number(e.id)===Number(a.target.id)?e:null})),r>=0?(l=f.permissoes.map((function(e){return e.chEsMenuPermissao===a.target.id?Object(Z.a)(Object(Z.a)({},e),{},Object(X.a)({},o,a.target.checked)):e})),E(Object(Z.a)(Object(Z.a)({},f),{},{permissoes:l}))):E(Object(Z.a)(Object(Z.a)({},f),{},{permissoes:[].concat(Object(Y.a)(f.permissoes),[Object(X.a)({menuPermissao:c[0].descricao,chEsMenuPermissao:a.target.id,chEsUsuario:f.id},o,a.target.checked)])}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),M=function(e,a){return f.permissoes.filter((function(t){return Number(t.chEsMenuPermissao)===e.id&&t[a]}))[0]};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===f||void 0===f?void 0:f.nome)?null===f||void 0===f?void 0:f.nome:"Novo Usu\xe1rio"),o.a.createElement(ne.a,{style:{minHeight:"50vh"}},o.a.createElement("div",null,o.a.createElement(oe.a,{tabs:!0},o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:{active:"perfil"===g},onClick:function(){F("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:{active:"permissao"===g},onClick:function(){F("permissao")},style:{cursor:"pointer"}},"Permiss\xe3o"))),o.a.createElement(le.a,{activeTab:g},o.a.createElement(ie.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(be,{className:"form-control",id:"nome",name:"nome",suggestions:l,onChange:D,onClick:function(e){return a=e,void E(Object(Z.a)(Object(Z.a)({},f),{},{nome:a.nome,email:a.contato.email}));var a},value:null===f||void 0===f?void 0:f.nome,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",id:"email",name:"email",type:"email",value:null===f||void 0===f?void 0:f.email,onChange:D}))),o.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-3 col-xl-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nivel"},"N\xedvel:"),o.a.createElement("select",{className:"custom-select",id:"nivel",name:"nivel",value:f.nivel,onChange:D},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"Admin"},"Admin"),o.a.createElement("option",{value:"Editor"},"Editor"),o.a.createElement("option",{value:"Secret\xe1ria"},"Secret\xe1ria"),o.a.createElement("option",{value:"Tesoureira"},"Tesoureira"))))))),o.a.createElement(ie.a,{tabId:"permissao"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",style:{height:"2vh",marginTop:"2vh"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},"Descri\xe7\xe3o"),o.a.createElement("div",{className:"col-2"},"Visualizar"),o.a.createElement("div",{className:"col-2"},"Editar"),o.a.createElement("div",{className:"col-2"},"Inserir"),o.a.createElement("div",{className:"col-2"},"Remover"))),o.a.createElement("div",{className:"form-group col-md-12 float-left overflow-auto",style:{maxHeight:"40vh"}},o.a.createElement("ul",{className:"list-group bg-transparent mx-0"},i.map((function(e,a){return o.a.createElement("li",{key:e.id,className:"list-group-item bg-transparent border-white"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},e.descricao),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:T,name:"permissoes.visualizar",checked:M(e,"visualizar")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:T,name:"permissoes.alterar",checked:M(e,"alterar")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:T,name:"permissoes.inserir",checked:M(e,"inserir")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:T,name:"permissoes.remover",checked:M(e,"remover")}))))})))))))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"submit",color:"success",onClick:z,disabled:y},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:y},"Cancelar"))))},Ne=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)({permissoes:[{}]}),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(0),y=Object(p.a)(C,2),w=y[0],k=y[1],A=Object(n.useState)(!1),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)([]),D=Object(p.a)(z,2),T=D[0],M=D[1],q=Object(n.useState)(""),Y=Object(p.a)(q,2),V=Y[0],G=Y[1],L=Object(s.useToasts)().addToast,R=x();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/usuarios",{headers:{Authorization:"Bearer ".concat(R.token)}}).then((function(e){r(e.data);var a=e.data.length;k(a)}));case 2:W();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Usu\xe1rios - Cadastro de membros CEM",e()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/usuarios",{headers:{Authorization:"Bearer ".concat(R.token)}}).then((function(e){r(e.data);var a=e.data.length;k(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[B]);var W=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/menuPermissao",{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,j(a.data),U();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/membros",{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,m(a.data.membros);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/usuarios/"+a,{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:e.sent.data.error?L("N\xe3o foi poss\xedvel remover o usu\xe1rio!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),L("Usu\xe1rio removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({permissoes:[{}]}),F(!B);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"users",quantidade:w,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement(I.a,{icon:["fas","search"]}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));M(a),G(e.target.value)},value:V,placeholder:"Pesquise por nome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"card overflow-hidden align-items-center"},o.a.createElement(Q,{data:V?T:t,titulo:"Usu\xe1rios",mostrarBotaoNovo:!0,tituloBotao:"Novo Usu\xe1rio",handleShow:X},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"20"}),o.a.createElement(K,{campo:"email",titulo:"E-mail",tamanho:"20"}),o.a.createElement(K,{campo:"nivel",titulo:"Nivel",tamanho:"12"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){h(a),F(!0)},title:"Editar usu\xe1rio"},o.a.createElement(I.a,{icon:["fas","cog"]})),"\xa0",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return H(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover usu\xe1rio"},o.a.createElement(I.a,{icon:["fas","trash"]})));var a},tamanho:"10"}))))),o.a.createElement(ge,{className:"modal-lg overflow-hidden",data:E,show:B,handleShow:X,listaMenu:N,membros:i}))},je=function e(){Object(ue.a)(this,e),this.explicitType="contato",this.id=0,this.email="",this.telefone="",this.celular=""},Oe=function e(){Object(ue.a)(this,e),this.explicitType="endereco",this.id=0,this.cep="",this.cidade="",this.uf="",this.logradouro="",this.complemento=""},Ce=function e(){Object(ue.a)(this,e),this.explicitType="Igreja",this.id=0,this.ehBatizado="",this.dataBatismo="",this.igrejaBatizado="",this.ultimoPastor="",this.ultimaIgreja=""},ye=function e(){Object(ue.a)(this,e),this.explicitType="ministerioMembro",this.id=0,this.chEsMembro="",this.chEsMinisterio="",this.checked=!1},xe=new function e(){Object(ue.a)(this,e),this.id=0,this.chEsConjuge="",this.conjuge="",this.chEsPai="",this.nomePai="",this.chEsMae="",this.nomeMae="",this.filhos=[]},we=new je,ke=new Oe,Ae=new Ce,Se=new ye,Be=function e(){Object(ue.a)(this,e),this.explicitType="membro",this.id=0,this.nome="",this.identidade="",this.dataNascimento="",this.idade="",this.sexo=0,this.profissao="",this.estadoCivil="",this.ativo="",this.parentes=xe,this.contato=we,this.endereco=ke,this.igreja=Ae,this.ministerios=[Se],this.chEsContato="",this.chEsEndereco="",this.chEsIgreja=""},Fe=function(e){var a,t,r,c,l,i,m,v,f,E,h,b,g,j,C,y,k,A,S=e.data,B=e.show,F=e.handleShow,z=e.className,D=e.membros,T=e.ministerios,M=Object(n.useState)({ministerios:[]}),q=Object(p.a)(M,2),I=q[0],P=q[1],V=Object(n.useState)(0),G=Object(p.a)(V,2),L=G[0],R=G[1],W=Object(n.useState)("perfil"),U=Object(p.a)(W,2),H=U[0],J=U[1],_=Object(n.useState)(!1),$=Object(p.a)(_,2),ee=$[0],ue=$[1],de=Object(n.useState)([]),pe=Object(p.a)(de,2),ve=pe[0],fe=pe[1],Ee=Object(n.useState)(""),he=Object(p.a)(Ee,2),ge=he[0],Ne=he[1],je=Object(s.useToasts)(),Oe=je.addToast,Ce=je.removeAllToasts,ye=x();Object(n.useEffect)((function(){R(S),Ce()}),[S]),Object(n.useEffect)((function(){L>0?function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L>0)){e.next=6;break}return e.next=3,O.get("/membros/"+L,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={ministerios:[]};case 7:a=e.t0,P(a.data),fe(a.data.parentes.filhos);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():Se()}),[L]);var xe=function(e){H!==e&&J(e)},we=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n,o,r,c,l,i,s,m,d,p,v,f,E,h,b,g,N,j,C,y,x,w,k;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w="",ue(!0),(k=new Be).id=(null===I||void 0===I?void 0:I.id)?null===I||void 0===I?void 0:I.id:0,k.nome=null===I||void 0===I?void 0:I.nome,k.identidade=null===I||void 0===I?void 0:I.identidade,k.dataNascimento=null===I||void 0===I?void 0:I.dataNascimento,k.dataCasamento=null===I||void 0===I?void 0:I.dataCasamento,k.sexo=null===I||void 0===I?void 0:I.sexo,k.profissao=null===I||void 0===I?void 0:I.profissao,k.estadoCivil=null===I||void 0===I?void 0:I.estadoCivil,k.chEsConjuge=null===I||void 0===I?void 0:I.chEsConjuge,k.conjuge=null===I||void 0===I?void 0:I.conjuge,k.ativo=0,k.contato.id=null===I||void 0===I||null===(a=I.contato)||void 0===a?void 0:a.id,k.contato.email=null===I||void 0===I||null===(t=I.contato)||void 0===t?void 0:t.email,k.contato.telefone=null===I||void 0===I||null===(n=I.contato)||void 0===n?void 0:n.telefone,k.contato.celular=null===I||void 0===I||null===(o=I.contato)||void 0===o?void 0:o.celular,k.endereco.id=null===I||void 0===I||null===(r=I.endereco)||void 0===r?void 0:r.id,k.endereco.cep=null===I||void 0===I||null===(c=I.endereco)||void 0===c?void 0:c.cep,k.endereco.cidade=null===I||void 0===I||null===(l=I.endereco)||void 0===l?void 0:l.cidade,k.endereco.uf=null===I||void 0===I||null===(i=I.endereco)||void 0===i?void 0:i.uf,k.endereco.logradouro=null===I||void 0===I||null===(s=I.endereco)||void 0===s?void 0:s.logradouro,k.endereco.numero=null===I||void 0===I||null===(m=I.endereco)||void 0===m?void 0:m.numero,k.endereco.complemento=null===I||void 0===I||null===(d=I.endereco)||void 0===d?void 0:d.complemento,k.parentes.chEsConjuge=null===I||void 0===I||null===(p=I.parentes)||void 0===p?void 0:p.chEsConjuge,k.parentes.conjuge=null===I||void 0===I||null===(v=I.parentes)||void 0===v?void 0:v.conjuge,k.parentes.chEsPai=null===I||void 0===I||null===(f=I.parentes)||void 0===f?void 0:f.chEsPai,k.parentes.nomePai=null===I||void 0===I||null===(E=I.parentes)||void 0===E?void 0:E.nomePai,k.parentes.chEsMae=null===I||void 0===I||null===(h=I.parentes)||void 0===h?void 0:h.chEsMae,k.parentes.nomeMae=null===I||void 0===I||null===(b=I.parentes)||void 0===b?void 0:b.nomeMae,k.parentes.filhos=ve,k.igreja.id=null===I||void 0===I||null===(g=I.igreja)||void 0===g?void 0:g.id,k.igreja.ehBatizado=null===I||void 0===I||null===(N=I.igreja)||void 0===N?void 0:N.ehBatizado,k.igreja.dataBatismo=null===I||void 0===I||null===(j=I.igreja)||void 0===j?void 0:j.dataBatismo,k.igreja.igrejaBatizado=null===I||void 0===I||null===(C=I.igreja)||void 0===C?void 0:C.igrejaBatizado,k.igreja.ultimoPastor=null===I||void 0===I||null===(y=I.igreja)||void 0===y?void 0:y.ultimoPastor,k.igreja.ultimaIgreja=null===I||void 0===I||null===(x=I.igreja)||void 0===x?void 0:x.ultimaIgreja,k.ministerios=null===I||void 0===I?void 0:I.ministerios,0===Number(k.id)){e.next=45;break}return e.next=42,O.put("/membros",k,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 42:w=e.sent,e.next=48;break;case 45:return e.next=47,O.post("/membros",k,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 47:w=e.sent;case 48:w.data.error?(console.error(w.data.error),Oe("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):(Oe("Membro salvo com sucesso!",{appearance:"success"}),Se(),fe([])),ue(!1);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];P(o?Object(Z.a)(Object(Z.a)({},I),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},I[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},I),{},Object(X.a)({},e.target.name,e.target.value)))},Ae=function(e,a,t){var n,o="nomeConjuge"===t?e.dataCasamento:null===I||void 0===I?void 0:I.dataCasamento;P(Object(Z.a)(Object(Z.a)({},I),{},{parentes:Object(Z.a)(Object(Z.a)({},null===I||void 0===I?void 0:I.parentes),{},(n={},Object(X.a)(n,a,e.id),Object(X.a)(n,t,e.nome),n)),dataCasamento:o}))},Se=function(){P({id:"",nome:"",dataCasamento:"",dataNascimento:"",identidade:"",sexo:"",estadoCivil:"",profissao:"",contato:{email:"",celular:"",telefone:""},endereco:{cep:"",logradouro:"",numero:"",complemento:"",cidade:"",uf:""},parentes:{chEsConjuge:"",nomeConjuge:"",chEsPai:"",nomePai:"",chEsMae:"",nomeMae:"",filhos:[]},igreja:{ehBatizado:"",dataBatismo:"",igrejaBatizado:"",ultimoPastor:"",ultimaIgreja:""},ministerios:[]})},Fe=function(e){var a=e.id?e.id:e.chEsFilho;if(ve.findIndex((function(e){return e.chEsFilho===a}))>=0){var t=ve.filter((function(e){return e.chEsFilho!==a}));fe(t)}else fe([].concat(Object(Y.a)(ve),[{chEsFilho:e.id,nome:e.nome,email:e.contato.email,telefone:e.contato.telefone,celular:e.contato.celular}]));Ne("")},ze=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===I||void 0===I?void 0:I.ministerios.findIndex((function(e){return e.chEsMinisterio===a.id})))>=0?(t=null===I||void 0===I?void 0:I.ministerios.filter((function(e){return e.chEsMinisterio!==a.id})),P(Object(Z.a)(Object(Z.a)({},I),{},{ministerios:t}))):P(Object(Z.a)(Object(Z.a)({},I),{},{ministerios:[].concat(Object(Y.a)(I.ministerios),[{chEsMinisterio:a.id,checked:!0}])}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://viacep.com.br/ws/"+a.target.value+"/json/");case 2:t=(t=e.sent).data,P(Object(Z.a)(Object(Z.a)({},I),{},{endereco:Object(Z.a)(Object(Z.a)({},null===I||void 0===I?void 0:I.endereco),{},{logradouro:t.logradouro,cidade:t.localidade,uf:t.uf})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:B,toggle:F,className:z},o.a.createElement(te.a,{toggle:F},(null===I||void 0===I?void 0:I.id)?"#".concat(I.id," - ")+(null===I||void 0===I?void 0:I.nome):"Novo Membro"),o.a.createElement(ne.a,null,o.a.createElement("div",null,o.a.createElement(oe.a,{tabs:!0},o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"perfil"===H?"active":"",onClick:function(){xe("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"contato"===H?"active":"",onClick:function(){xe("contato")},style:{cursor:"pointer"}},"Contato")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"endereco"===H?"active":"",onClick:function(){xe("endereco")},style:{cursor:"pointer"}},"Endere\xe7o")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"parentes"===H?"active":"",onClick:function(){xe("parentes")},style:{cursor:"pointer"}},"Familia")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"igreja"===H?"active":"",onClick:function(){xe("igreja")},style:{cursor:"pointer"}},"Dados Igreja")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"ministerio"===H?"active":"",onClick:function(){xe("ministerio")},style:{cursor:"pointer"}},"Minist\xe9rio"))),o.a.createElement(le.a,{activeTab:H},o.a.createElement(ie.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-10 col-md-10 col-lg-10 col-xl-10"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(be,{className:"form-control",id:"nome",name:"nome",suggestions:D,onChange:function(e){""===e.target.value?Se():P(Object(Z.a)(Object(Z.a)({},I),{},Object(X.a)({},e.target.name,e.target.value)))},onClick:function(e){return function(e){R(e.id)}(e)},value:null===I||void 0===I?void 0:I.nome,field:"nome",autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"sexo"},"Sexo:"),o.a.createElement("select",{className:"custom-select",id:"sexo",name:"sexo",value:null===I||void 0===I?void 0:I.sexo,onChange:ke},o.a.createElement("option",{value:"0"},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataNascimento"},"Data de Nascimento:"),o.a.createElement("input",{className:"form-control",id:"dataNascimento",name:"dataNascimento",type:"date",value:w.converteData(null===I||void 0===I?void 0:I.dataNascimento,"YYYY-MM-DD"),onChange:ke}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"estadoCivil"},"Estado Civil:"),o.a.createElement("select",{className:"custom-select",id:"estadoCivil",name:"estadoCivil",value:null===I||void 0===I?void 0:I.estadoCivil,onChange:ke},o.a.createElement("option",{value:"0"},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"indentidade"},"Identidade:"),o.a.createElement("input",{className:"form-control",id:"indentidade",name:"identidade",type:"text",value:null===I||void 0===I?void 0:I.identidade,onChange:ke}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"profissao"},"Profiss\xe3o:"),o.a.createElement("input",{className:"form-control",id:"profissao",name:"profissao",type:"text",value:null===I||void 0===I?void 0:I.profissao,onChange:ke})))))),o.a.createElement(ie.a,{tabId:"contato"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",id:"email",name:"contato.email",type:"email",value:null===I||void 0===I||null===(a=I.contato)||void 0===a?void 0:a.email,onChange:ke}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{className:"form-control",id:"telefone",name:"contato.telefone",type:"text",value:null===I||void 0===I||null===(t=I.contato)||void 0===t?void 0:t.telefone,onChange:ke}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{className:"form-control",id:"celular",name:"contato.celular",type:"text",value:null===I||void 0===I||null===(r=I.contato)||void 0===r?void 0:r.celular,onChange:ke})))))),o.a.createElement(ie.a,{tabId:"endereco"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("label",{htmlFor:"cep"},"CEP:"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-map-marker"}))),o.a.createElement("input",{type:"text",className:"form-control",id:"cep",name:"endereco.cep",onChange:ke,value:null===I||void 0===I||null===(c=I.endereco)||void 0===c?void 0:c.cep,onBlur:De}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"}),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"logradouro"},"Endere\xe7o:"),o.a.createElement("input",{className:"form-control",id:"logradouro",name:"endereco.logradouro",type:"text",value:null===I||void 0===I||null===(l=I.endereco)||void 0===l?void 0:l.logradouro,onChange:ke}))),o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"numero"},"N\xfamero:"),o.a.createElement("input",{className:"form-control",id:"numero",name:"endereco.numero",type:"text",value:null===I||void 0===I||null===(i=I.endereco)||void 0===i?void 0:i.numero,onChange:ke}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"complemento"},"Complemento:"),o.a.createElement("input",{onChange:ke,value:null===I||void 0===I||null===(m=I.endereco)||void 0===m?void 0:m.complemento,className:"form-control",id:"complemento",name:"endereco.complemento",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"cidade"},"Cidade:"),o.a.createElement("input",{className:"form-control",id:"cidade",name:"endereco.cidade",type:"text",value:null===I||void 0===I||null===(v=I.endereco)||void 0===v?void 0:v.cidade,onChange:ke}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"uf"},"Estado:"),o.a.createElement("input",{className:"form-control",id:"uf",name:"endereco.uf",type:"text",value:null===I||void 0===I||null===(f=I.endereco)||void 0===f?void 0:f.uf,onChange:ke})))))),o.a.createElement(ie.a,{tabId:"parentes"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomeConjuge"},"Nome do C\xf4njuge:"),o.a.createElement(be,{className:"form-control",id:"nomeConjuge",name:"parentes.nomeConjuge",suggestions:D,onChange:ke,onClick:function(e){return Ae(e,"chEsConjuge","nomeConjuge")},value:null===I||void 0===I||null===(E=I.parentes)||void 0===E?void 0:E.nomeConjuge,field:"nome"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataCasamento"},"Data de Casamento:"),o.a.createElement("input",{className:"form-control",id:"dataCasamento",name:"dataCasamento",type:"date",value:w.converteData(null===I||void 0===I?void 0:I.dataCasamento,"YYYY-MM-DD"),onChange:ke}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomePai"},"Nome do Pai:"),o.a.createElement(be,{className:"form-control",id:"nomePai",name:"parentes.nomePai",suggestions:D,onChange:ke,onClick:function(e){return Ae(e,"chEsPai","nomePai")},value:null===I||void 0===I||null===(h=I.parentes)||void 0===h?void 0:h.nomePai,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomeMae"},"Nome da M\xe3e:"),o.a.createElement(be,{className:"form-control",id:"nomeMae",name:"parentes.nomeMae",suggestions:D,onChange:ke,onClick:function(e){return Ae(e,"chEsMae","nomeMae")},value:null===I||void 0===I||null===(b=I.parentes)||void 0===b?void 0:b.nomeMae,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"filhos"},"Filhos:"),o.a.createElement(be,{className:"form-control",id:"filhos",suggestions:D,onClick:function(e){return Fe(e)},onChange:function(e){Ne(e.target.value)},field:"nome",value:ge}))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement(Q,{data:ve},o.a.createElement(K,{titulo:"Nome",campo:"nome",tamanho:"12"}),o.a.createElement(K,{titulo:"E-mail",campo:"email",tamanho:"12"}),o.a.createElement(K,{titulo:"Celular",campo:"celular",tamanho:"8"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",campo:"id",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.chEsFilho+"remover",type:"button",onClick:function(){return Fe(e)},value:e.chEsFilho,className:"btn btn-danger btn-xs",title:"Remover filho"},o.a.createElement("i",{className:"fa fa-trash"})))}(e)},tamanho:"5"}))))))),o.a.createElement(ie.a,{tabId:"igreja"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 col-xl-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\xc9 Batizado?"),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{type:"radio",className:"custom-control-input",id:"ehBatizadoSim",name:"igreja.ehBatizado",value:"0",onChange:ke,autoComplete:"off",checked:0===Number(null===I||void 0===I||null===(g=I.igreja)||void 0===g?void 0:g.ehBatizado)}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehBatizadoSim"},"Sim")),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{type:"radio",className:"custom-control-input",id:"ehBatizadoNao",name:"igreja.ehBatizado",value:"1",onChange:ke,autoComplete:"off",checked:1===Number(null===I||void 0===I||null===(j=I.igreja)||void 0===j?void 0:j.ehBatizado)}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehBatizadoNao"},"N\xe3o")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4 col-xl-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataBatismo"},"Data do Batismo:"),o.a.createElement("input",{className:"form-control",id:"dataBatismo",name:"igreja.dataBatismo",type:"date",value:null===I||void 0===I||null===(C=I.igreja)||void 0===C?void 0:C.dataBatismo,onChange:ke,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"igrejaBatizado"},"Igreja Batizado:"),o.a.createElement("input",{className:"form-control",id:"igrejaBatizado",name:"igreja.igrejaBatizado",type:"text",value:null===I||void 0===I||null===(y=I.igreja)||void 0===y?void 0:y.igrejaBatizado,onChange:ke,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ultimoPastor"},"Ultimo Pastor:"),o.a.createElement("input",{className:"form-control",id:"ultimoPastor",name:"igreja.ultimoPastor",type:"text",value:null===I||void 0===I||null===(k=I.igreja)||void 0===k?void 0:k.ultimoPastor,onChange:ke,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ultimaIgreja"},"Ultima Igreja:"),o.a.createElement("input",{className:"form-control",id:"ultimaIgreja",name:"igreja.ultimaIgreja",type:"text",value:null===I||void 0===I||null===(A=I.igreja)||void 0===A?void 0:A.ultimaIgreja,onChange:ke,autoComplete:"off"})))))),o.a.createElement(ie.a,{tabId:"ministerio"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",style:{height:"2vh",marginTop:"2vh"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},"Descri\xe7\xe3o"),o.a.createElement("div",{className:"col-2"},"Faz parte?"))),o.a.createElement("div",{className:"form-group col-md-12 float-left overflow-auto",style:{maxHeight:"40vh"}},o.a.createElement("ul",{className:"list-group bg-transparent"},T.map((function(e){return o.a.createElement("li",{key:e.id,className:"list-group-item bg-transparent border-white pl-2"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},e.nome),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:function(){return ze(e)},name:"permissoes.visualizar",checked:(a=e,((null===I||void 0===I?void 0:I.ministerios)?I.ministerios.filter((function(e){return Number(null===e||void 0===e?void 0:e.chEsMinisterio)===a.id&&e.checked})):[!1])[0])}))));var a})))))))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return we()},disabled:ee},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:I.id>0?Se:F,disabled:ee},I.id>0?"Limpar":"Cancelar"))))},ze=function(e){var a=e.show,t=e.handleShow,r=e.ministerios,c=Object(n.useState)(!1),i=Object(p.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),v=d[0],f=d[1],E=Object(n.useState)(""),h=Object(p.a)(E,2),b=h[0],g=h[1],N=Object(n.useState)(""),j=Object(p.a)(N,2),O=j[0],C=j[1],y=Object(n.useState)(""),x=Object(p.a)(y,2),w=x[0],k=x[1],A=Object(n.useState)(""),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)("/relatorios/membro"),D=Object(p.a)(z,2),T=D[0],M=D[1];Object(n.useEffect)((function(){document.title="Relat\xf3rio de Membros - Cadastro de membros CEM"}),[]),Object(n.useEffect)((function(){q()}),[s,b,v,O,w,B]);var q=function(){var e={};s&&(e.aniversariante=s),s||""===v||(e.dataInicio=v),s||""===b||(e.dataFim=b),O&&(e.ministerio=O),w&&(e.sexo=w),B&&(e.estadoCivil=B),M("/relatorios/membro?"+Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&"))};return o.a.createElement(ae.a,{isOpen:a,toggle:t,className:"modal-lg"},o.a.createElement(te.a,{toggle:t},"Relat\xf3rio de Membros"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 h3"},"Data de Nascimento:"),o.a.createElement("div",{className:"custom-control custom-checkbox col-md-8 h5"},o.a.createElement("input",{className:"custom-control-input",name:"aniversariante",id:"aniversariante",type:"checkbox",onChange:function(){m(!s)},checked:s}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"aniversariante"},"Aniversariantes do M\xeas")),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"De:"),o.a.createElement("input",{className:"form-control",name:"dataInicio",id:"dataInicio",type:"date",onChange:function(e){return f(e.target.value)},disabled:s,value:v})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"At\xe9:"),o.a.createElement("input",{className:"form-control",name:"dataFim",id:"dataFim",type:"date",onChange:function(e){return g(e.target.value)},disabled:s,value:b})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"col-md-12 h3"},"Minist\xe9rio:"),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("select",{name:"ministerio",className:"form-control",onChange:function(e){return C(e.target.value)},value:O},o.a.createElement("option",{value:""},"Escolha..."),r.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),o.a.createElement("div",{className:"col-md-12 h3"},"Sexo:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{className:"form-control",name:"sexo",onChange:function(e){return k(e.target.value)},value:w},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher"))),o.a.createElement("div",{className:"col-md-12 h3"},"Estado Civil:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{name:"estadoCivil",className:"form-control",onChange:function(e){return F(e.target.value)},value:B},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)"))))),o.a.createElement(se.a,null,o.a.createElement(l.b,{to:"".concat(T),target:"_blank",className:"btn btn-success"},"Gerar Relat\xf3rio"),o.a.createElement(me.a,{type:"button",color:"danger",onClick:t},"Cancelar")))},De=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)([]),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(0),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)(0),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(n.useState)(0),T=Object(p.a)(D,2),M=T[0],q=T[1],Y=Object(n.useState)(!1),V=Object(p.a)(Y,2),G=V[0],L=V[1],R=Object(n.useState)(!1),W=Object(p.a)(R,2),U=W[0],H=W[1],X=Object(n.useState)(""),Z=Object(p.a)(X,2),J=Z[0],_=Z[1],$=Object(s.useToasts)().addToast,ee=x();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/membros",{headers:{Authorization:"Bearer ".concat(ee.token)}});case 2:return a=e.sent,A(a.data.quantidadeAtivos),q(a.data.quantidadeBatizados),z(a.data.quantidadeNovos),r(a.data.membros),e.next=9,ae();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Membros - Cadastro de membros CEM",e()}),[]),Object(n.useEffect)((function(){G||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/membros",{headers:{Authorization:"Bearer ".concat(ee.token)}});case 2:a=e.sent,A(a.data.quantidadeAtivos),q(a.data.quantidadeBatizados),z(a.data.quantidadeNovos),r(a.data.membros),h(a.data.membros);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[G]);var ae=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/ministerios",{headers:{Authorization:"Bearer ".concat(ee.token)}});case 2:a=e.sent,j(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/membros/"+a,{headers:{Authorization:"Bearer ".concat(ee.token)}});case 2:e.sent.data.error?$("N\xe3o foi poss\xedvel remover o membro!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),$("Membro removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ne=function(e){"Escape"!==(null===e||void 0===e?void 0:e.key)&&(m(),L(!G))},oe=function(){H(!U)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"user-circle",quantidade:k,titulo:"Ativos"}),o.a.createElement(P,{corFundo:"success",icone:"check-circle",quantidade:F,titulo:"Novos"}),o.a.createElement(P,{corFundo:"danger",icone:"heart",quantidade:M,titulo:"Batizados"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));h(a),_(e.target.value)},value:J,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:J?E:t,titulo:"Membros",mostrarBotaoNovo:!0,mostrarBotaoRelatorio:!0,tituloBotao:"Novo Membro",handleShow:ne,handleShowRelatorio:oe,limiteItems:20},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"20"}),o.a.createElement(K,{campo:"contato.email",titulo:"E-mail",tamanho:"20"}),o.a.createElement(K,{campo:"contato.telefone",titulo:"Telefone",tamanho:"12",corpo:function(e){return w.mascaraTelefone(e.contato.telefone)}}),o.a.createElement(K,{campo:"contato.celular",titulo:"Celular",tamanho:"12",corpo:function(e){return w.mascaraTelefone(e.contato.celular)}}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a.id),L(!0)},title:"Editar membro"},o.a.createElement(I.a,{icon:["fas","cog"]})),"\xa0",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return te(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover membro"},o.a.createElement(I.a,{icon:["fas","trash"]})));var a},tamanho:"5"}))))),o.a.createElement(Fe,{className:"modal-lg",data:i,show:G,handleShow:ne,membros:t,ministerios:N}),o.a.createElement(ze,{show:U,handleShow:oe,ministerios:N}))},Te=new je,Me=new Oe,qe=function e(){Object(ue.a)(this,e),this.explicitType="visitante",this.id=0,this.nome="",this.querVisita="",this.dataVisita="",this.dataCadastro="",this.religiao="",this.contato=Te,this.endereco=Me},Ie=function(e){var a,t,r,c,l,i,m,v,f,E=e.data,h=e.show,b=e.handleShow,g=e.className,j=Object(n.useState)({}),C=Object(p.a)(j,2),y=C[0],k=C[1],A=Object(n.useState)("perfil"),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)(!1),D=Object(p.a)(z,2),T=D[0],M=D[1],q=Object(s.useToasts)(),I=q.addToast,P=q.removeAllToasts,Y=x();Object(n.useEffect)((function(){k(E),P()}),[E]);var V=function(e){B!==e&&F(e)},G=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n,o,r,c,l,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="",M(!0),(s=new qe).id=y.id?y.id:0,s.nome=y.nome,s.dataVisita=y.dataVisita,s.dataCadastro=y.dataCadastro,s.querVisita=y.querVisita,s.religiao=y.religiao,s.contato.id=y.contato.id,s.contato.email=y.contato.email,s.contato.telefone=y.contato.telefone,s.contato.celular=y.contato.celular,s.endereco.id=null===(a=y.endereco)||void 0===a?void 0:a.id,s.endereco.cep=null===y||void 0===y||null===(t=y.endereco)||void 0===t?void 0:t.cep,s.endereco.logradouro=null===y||void 0===y||null===(n=y.endereco)||void 0===n?void 0:n.logradouro,s.endereco.numero=null===y||void 0===y||null===(o=y.endereco)||void 0===o?void 0:o.numero,s.endereco.complemento=null===y||void 0===y||null===(r=y.endereco)||void 0===r?void 0:r.complemento,s.endereco.cidade=null===y||void 0===y||null===(c=y.endereco)||void 0===c?void 0:c.cidade,s.endereco.uf=null===y||void 0===y||null===(l=y.endereco)||void 0===l?void 0:l.uf,0===Number(s.id)){e.next=26;break}return e.next=23,O.put("/visitantes",s,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 23:i=e.sent,e.next=29;break;case 26:return e.next=28,O.post("/visitantes",s,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 28:i=e.sent;case 29:i.data.error?(console.error(i.data.error),I("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):I("Visitante salvo com sucesso!",{appearance:"success"}),M(!1);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];k(o?Object(Z.a)(Object(Z.a)({},y),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},y[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},y),{},Object(X.a)({},e.target.name,e.target.value)))},Q=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://viacep.com.br/ws/"+a.target.value+"/json/");case 2:t=(t=e.sent).data,k(Object(Z.a)(Object(Z.a)({},y),{},{endereco:Object(Z.a)(Object(Z.a)({},y.endereco),{},{logradouro:t.logradouro,cidade:t.localidade,uf:t.uf})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:h,toggle:b,className:g},o.a.createElement(te.a,{toggle:b},(null===y||void 0===y?void 0:y.id)?"#".concat(y.id," - ").concat(null===y||void 0===y?void 0:y.nome):"Novo Visitante"),o.a.createElement(ne.a,null,o.a.createElement("div",null,o.a.createElement(oe.a,{tabs:!0},o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"perfil"===B?"active":"",onClick:function(){V("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"contato"===B?"active":"",onClick:function(){V("contato")},style:{cursor:"pointer"}},"Contato")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"endereco"===B?"active":"",onClick:function(){V("endereco")},style:{cursor:"pointer"}},"Endere\xe7o"))),o.a.createElement(le.a,{activeTab:B},o.a.createElement(ie.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{onChange:L,value:y.nome,className:"form-control",id:"nome",name:"nome",type:"text",required:!0})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("label",null,"Deseja uma visita?"),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{onChange:L,value:"0",type:"radio",className:"custom-control-input",id:"querVisitaSim",name:"querVisita",checked:0===y.querVisita?"checked":null}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"querVisitaSim"},"Sim")),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{onChange:L,value:"1",type:"radio",className:"custom-control-input",id:"querVisitaNao",name:"querVisita",checked:1===y.querVisita?"checked":null}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"querVisitaNao"},"N\xe3o"))),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataVisita"},"Data de Visita:"),o.a.createElement("input",{onChange:L,value:w.converteData(y.dataVisita,"YYYY-MM-DD"),className:"form-control",id:"dataVisita",name:"dataVisita",type:"date"})),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("label",{htmlFor:"religiao"},"Religi\xe3o:"),o.a.createElement("input",{onChange:L,value:y.religiao,className:"form-control",id:"religiao",name:"religiao",type:"text"}))))),o.a.createElement(ie.a,{tabId:"contato"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(a=y.contato)||void 0===a?void 0:a.email,className:"form-control",id:"email",name:"contato.email",type:"email"})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(t=y.contato)||void 0===t?void 0:t.telefone,className:"form-control",id:"telefone",name:"contato.telefone",type:"text"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(r=y.contato)||void 0===r?void 0:r.celular,className:"form-control",id:"celular",name:"contato.celular",type:"text"}))))),o.a.createElement(ie.a,{tabId:"endereco"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("label",{htmlFor:"cep"},"CEP:"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-map-marker"}))),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(c=y.endereco)||void 0===c?void 0:c.cep,type:"text",className:"form-control",id:"cep",name:"endereco.cep",onBlur:Q}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"}),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"logradouro"},"Endere\xe7o:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(l=y.endereco)||void 0===l?void 0:l.logradouro,className:"form-control",id:"logradouro",name:"endereco.logradouro",type:"text"}))),o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"numero"},"N\xfamero:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(i=y.endereco)||void 0===i?void 0:i.numero,className:"form-control",id:"numero",name:"endereco.numero",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"complemento"},"Complemento:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(m=y.endereco)||void 0===m?void 0:m.complemento,className:"form-control",id:"complemento",name:"endereco.complemento",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"cidade"},"Cidade:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(v=y.endereco)||void 0===v?void 0:v.cidade,className:"form-control",id:"cidade",name:"endereco.cidade",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"uf"},"Estado:"),o.a.createElement("input",{onChange:L,value:null===y||void 0===y||null===(f=y.endereco)||void 0===f?void 0:f.uf,className:"form-control",id:"uf",name:"endereco.uf",type:"text"}))))))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"submit",color:"success",onClick:function(){return G()},disabled:T},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:b,disabled:T},"Cancelar"))))},Pe=function(e){var a=e.show,t=e.handleShow,r=Object(n.useState)(!1),c=Object(p.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(""),u=Object(p.a)(m,2),d=u[0],v=u[1],f=Object(n.useState)(""),E=Object(p.a)(f,2),h=E[0],b=E[1],g=Object(n.useState)(""),N=Object(p.a)(g,2),j=N[0],O=N[1],C=Object(n.useState)(""),y=Object(p.a)(C,2),x=y[0],w=y[1],k=Object(n.useState)("/relatorios/membro"),A=Object(p.a)(k,2),S=A[0],B=A[1];Object(n.useEffect)((function(){document.title="Relat\xf3rio de Visitantes - Cadastro de membros CEM"}),[]),Object(n.useEffect)((function(){F()}),[i,h,d,j,x]);var F=function(){var e={};i&&(e.aniversariante=i),i||""===d||(e.dataInicio=d),i||""===h||(e.dataFim=h),j&&(e.sexo=j),x&&(e.estadoCivil=x),B("/relatorios/membro?"+Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&"))};return o.a.createElement(ae.a,{isOpen:a,toggle:t,className:"modal-lg"},o.a.createElement(te.a,{toggle:t},"Relat\xf3rio de Membros"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 h3"},"Data de Nascimento:"),o.a.createElement("div",{className:"custom-control custom-checkbox col-md-8 h5"},o.a.createElement("input",{className:"custom-control-input",name:"aniversariante",id:"aniversariante",type:"checkbox",onChange:function(){s(!i)},checked:i}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"aniversariante"},"Aniversariantes do M\xeas")),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"De:"),o.a.createElement("input",{className:"form-control",name:"dataInicio",id:"dataInicio",type:"date",onChange:function(e){return v(e.target.value)},disabled:i,value:d})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"At\xe9:"),o.a.createElement("input",{className:"form-control",name:"dataFim",id:"dataFim",type:"date",onChange:function(e){return b(e.target.value)},disabled:i,value:h})),o.a.createElement("div",{className:"col-md-12 h3"},"Sexo:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{className:"form-control",name:"sexo",onChange:function(e){return O(e.target.value)},value:j},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher"))),o.a.createElement("div",{className:"col-md-12 h3"},"Estado Civil:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{name:"estadoCivil",className:"form-control",onChange:function(e){return w(e.target.value)},value:x},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)"))))),o.a.createElement(se.a,null,o.a.createElement(l.b,{to:"".concat(S),target:"_blank",className:"btn btn-success"},"Gerar Relat\xf3rio"),o.a.createElement(me.a,{type:"button",color:"danger",onClick:t},"Cancelar")))},Ye=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)({}),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(""),y=Object(p.a)(C,2),w=y[0],k=y[1],A=Object(n.useState)(!1),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)(!1),D=Object(p.a)(z,2),T=D[0],M=D[1],q=Object(s.useToasts)().addToast,Y=x();Object(n.useEffect)((function(){document.title="Visitantes - Cadastro de membros CEM",function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/visitantes",{headers:{Authorization:"Bearer ".concat(Y.token)}});case 2:a=e.sent,r(a.data),m(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){B||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/visitantes",{headers:{Authorization:"Bearer ".concat(Y.token)}});case 2:a=e.sent,r(a.data),j(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[B]);var V=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/visitantes/"+a,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 2:e.sent.data.error?q("N\xe3o foi poss\xedvel remover o visitante!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),q("Visitante removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=function(){h({}),F(!B)},L=function(){M(!T)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"user-circle",quantidade:i,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));j(a),k(e.target.value)},value:w,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:w?N:t,titulo:"Visitantes",mostrarBotaoNovo:!0,tituloBotao:"Novo Visitante",handleShow:G,handleShowRelatorio:L},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(K,{campo:"contato.email",titulo:"E-mail",tamanho:"15"}),o.a.createElement(K,{campo:"contato.telefone",titulo:"Telefone",tamanho:"10"}),o.a.createElement(K,{campo:"contato.celular",titulo:"Celular",tamanho:"10"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){h(a),F(!0)},title:"Editar membro"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return V(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover membro"},o.a.createElement(I.a,{icon:["fas","trash"]})));var a},tamanho:"5"}))))),o.a.createElement(Ie,{className:"modal-lg",data:E,show:B,handleShow:G}),o.a.createElement(Pe,{show:T,handleShow:L}))},Ve=function e(){Object(ue.a)(this,e),this.explicitType="ministerio",this.id=0,this.nome="",this.descricao=""},Ge=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(p.a)(l,2),m=i[0],v=i[1],f=Object(n.useState)(!1),E=Object(p.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,j=g.removeAllToasts,C=x();Object(n.useEffect)((function(){console.log(a),v(a),j()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var y=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new Ve).id=m.id?m.id:0,t.nome=m.nome,t.descricao=m.descricao,0===Number(t.id)){e.next=12;break}return e.next=9,O.put("/ministerios",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,O.post("/ministerios",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 14:a=e.sent;case 15:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Ministerio salvo com sucesso!",{appearance:"success"}),b(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){v(Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"#".concat(m.id," - ").concat(null===m||void 0===m?void 0:m.nome):"Novo Ministerio"),o.a.createElement(ne.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{className:"form-control",id:"nome",name:"nome",type:"text",value:m.nome,required:!0,onChange:w})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-8"},o.a.createElement("label",{htmlFor:"descricao"},"Descri\xe7\xe3o:"),o.a.createElement("textarea",{className:"form-control",name:"descricao",id:"descricao",value:m.descricao,rows:"10",onChange:w}))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return y()},disabled:h},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},Le=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)(0),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(""),y=Object(p.a)(C,2),w=y[0],k=y[1],A=Object(n.useState)([]),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(s.useToasts)().addToast,D=x();Object(n.useEffect)((function(){N||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Ministerios - Cadastro de membros CEM",e.next=3,O.get("/ministerios",{headers:{Authorization:"Bearer ".concat(D.token)}});case 3:a=e.sent,r(a.data),h(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[N]);var T=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/ministerios/"+a,{headers:{Authorization:"Bearer ".concat(D.token)}});case 2:e.sent.data.error?z("N\xe3o foi poss\xedvel remover o ministerio!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),z("Ministerio removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),M=function(){m({}),j(!N)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"user-circle-o",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));F(a),k(e.target.value)},value:w,placeholder:"Pesquise por minist\xe9rio"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:w?B:t,titulo:"Minist\xe9rios",mostrarBotaoNovo:!0,tituloBotao:"Novo Minist\xe9rio",handleShow:M},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(K,{campo:"descricao",titulo:"Descri\xe7\xe3o",tamanho:"50"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a),j(!0)},title:"Editar ministerio"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return T(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover ministerio"},o.a.createElement(I.a,{icon:["fas","trash"]})));var a},tamanho:"5"}))))),o.a.createElement(Ge,{className:"modal-lg",data:i,show:N,handleShow:M}))},Qe=function e(){Object(ue.a)(this,e),this.explicitType="evento",this.id=0,this.titulo="",this.tipo="",this.status="",this.repete=!1,this.diaSemana="",this.frequencia="",this.valor="",this.ehPago="",this.dataInicio="",this.dataFim="",this.horaInicio="",this.horaFim=""},Re=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(p.a)(l,2),m=i[0],v=i[1],f=Object(n.useState)(!1),E=Object(p.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,j=g.removeAllToasts,C=x();Object(n.useEffect)((function(){v(a),j()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var y=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new Qe).id=m.id?m.id:0,t.titulo=m.titulo,t.tipo=m.tipo,t.status=m.status,t.repete=m.repete,t.diaSemana=m.diaSemana,t.frequencia=m.frequencia,t.valor=m.valor,t.ehPago=m.ehPago,t.dataInicio=m.dataInicio,t.dataFim=m.dataFim,t.horaInicio=m.horaInicio,t.horaFim=m.horaFim,0===Number(t.id)){e.next=22;break}return e.next=19,O.put("/eventos",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 19:a=e.sent,e.next=25;break;case 22:return e.next=24,O.post("/eventos",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 24:a=e.sent;case 25:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Evento salvo com sucesso!",{appearance:"success"}),b(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];console.log(e.target.value),v(o?Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},m[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},e.target.name,e.target.value)))},A=function(e){v(Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},e.target.name,e.target.checked)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"#".concat(m.id," - ").concat(null===m||void 0===m?void 0:m.descricao):"Novo Evento"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"titulo"},"Titulo:"),o.a.createElement("input",{className:"form-control",id:"titulo",name:"titulo",type:"text",value:m.titulo,onChange:k,required:!0})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"Status"},"Status:"),o.a.createElement("select",{name:"status",id:"status",className:"custom-select",value:m.status,onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))),o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"ehPago"},"\xc9 pago?"),o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"ehPago",name:"ehPago",checked:m.ehPago,onChange:A}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehPago"},m.ehPago?"Sim":"N\xe3o"))),m.ehPago?o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{type:"text",className:"form-control",id:"valor",name:"valor",onKeyDown:function(e){var a="";"Backspace"===e.key?a=m.valor.toString().slice(0,-1):e.key>=0&&e.key<=9&&(a="".concat(m.valor).concat(e.key).replace("undefined","")),v(Object(Z.a)(Object(Z.a)({},m),{},{valor:a}))},value:w.converteMoeda(m.valor,!0)})):o.a.createElement("div",{className:"col-md-2"}),o.a.createElement("div",{className:"col-md-8"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"repete"},"Se repete?"),o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"repete",name:"repete",checked:m.repete,onChange:A}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"repete"},m.repete?"Sim":"N\xe3o"))),m.repete?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{htmlFor:"diaSemana"},"Dia da Semana"),o.a.createElement("select",{name:"diaSemana",value:m.diaSemana,className:"custom-select",onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Domingo"),o.a.createElement("option",{value:"1"},"Segunda"),o.a.createElement("option",{value:"2"},"Ter\xe7a"),o.a.createElement("option",{value:"3"},"Quarta"),o.a.createElement("option",{value:"4"},"Quinta"),o.a.createElement("option",{value:"5"},"Sexta"),o.a.createElement("option",{value:"6"},"S\xe1bado"))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{htmlFor:"frequencia"},"Frequ\xeancia"),o.a.createElement("select",{name:"frequencia",id:"frequencia",value:m.frequencia,className:"custom-select",onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Di\xe1ria"),o.a.createElement("option",{value:"1"},"Semanal"),o.a.createElement("option",{value:"2"},"Mensal"),o.a.createElement("option",{value:"3"},"Bimestral"),o.a.createElement("option",{value:"4"},"Trimestral"),o.a.createElement("option",{value:"5"},"Semestral"),o.a.createElement("option",{value:"6"},"Anual")))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"Data Inicial:"),o.a.createElement("input",{type:"date",className:"form-control",id:"dataInicio",name:"dataInicio",value:w.converteData(m.dataInicio,"YYYY-MM-DD"),onChange:k})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"Data Final:"),o.a.createElement("input",{type:"date",className:"form-control",id:"dataFim",name:"dataFim",value:w.converteData(m.dataFim,"YYYY-MM-DD"),onChange:k}))),o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"tipo"},"Tipo:"),o.a.createElement("select",{name:"tipo",value:m.tipo,className:"custom-select",onChange:k,id:"tipo"},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Interno"),o.a.createElement("option",{value:"1"},"Externo"))),"0"===m.tipo&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"horaInicio"},"Hora Inicial:"),o.a.createElement("input",{type:"time",className:"form-control",id:"horaInicio",name:"horaInicio",value:m.horaInicio,onChange:k})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"horaFim"},"Hora Final:"),o.a.createElement("input",{type:"time",className:"form-control",id:"horaFim",name:"horaFim",value:m.horaFim,onChange:k}))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return y()},disabled:h},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},Ke=["Di\xe1ria","Semanal","Mensal","Bimestral","Trimestral","Semestral","Anual"],We=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"],Ue=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)(0),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)([]),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)(""),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(s.useToasts)().addToast,T=x();Object(n.useEffect)((function(){N||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Eventos - Cadastro de membros CEM",e.next=3,O.get("/eventos",{headers:{Authorization:"Bearer ".concat(T.token)}});case 3:a=e.sent,r(a.data),h(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[h,N]);var M=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/eventos/"+a,{headers:{Authorization:"Bearer ".concat(T.token)}});case 2:e.sent.data.error?D("N\xe3o foi poss\xedvel remover o evento!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),D("Evento removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=function(){m({}),j(!N)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"calendar-week",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.titulo.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));A(a),z(e.target.value)},value:F,placeholder:"Pesquise por evento"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:F?k:t,titulo:"Eventos",mostrarBotaoNovo:!0,tituloBotao:"Novo Evento",handleShow:q},o.a.createElement(K,{campo:"titulo",titulo:"Titulo",tamanho:"10"}),o.a.createElement(K,{campo:"status",titulo:"Status",corpo:function(e){return e.status?"Ativo":"Inativo"},tamanho:"2"}),o.a.createElement(K,{campo:"ehPago",titulo:"Pago",corpo:function(e){return e.ehPago?"Sim":"N\xe3o"},tamanho:"2"}),o.a.createElement(K,{campo:"valor",titulo:"Valor",corpo:function(e){return e.valor?w.converteMoeda(e.valor):"-"},tamanho:"3"}),o.a.createElement(K,{campo:"repete",titulo:"Repete",corpo:function(e){return e.repete?"Sim":"N\xe3o"},tamanho:"2"}),o.a.createElement(K,{campo:"diaSemana",titulo:"Dia da Semana",tamanho:"4",corpo:function(e){return a=e.diaSemana,We[a];var a}}),o.a.createElement(K,{campo:"frequencia",titulo:"Frequ\xeancia",corpo:function(e){return Ke[e.frequencia]},tamanho:"3"}),o.a.createElement(K,{campo:"dataInicio",titulo:"Data Inicial",corpo:function(e){return w.converteData(e.dataInicio,"DD/MM/YYYY")},tamanho:"5"}),o.a.createElement(K,{campo:"dataFim",titulo:"Data Final",corpo:function(e){return w.converteData(e.dataFim,"DD/MM/YYYY")},tamanho:"5"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a),j(!0)},title:"Editar evento"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return M(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover evento"},o.a.createElement(I.a,{icon:["fas","trash"]})));var a},tamanho:"5"}))))),o.a.createElement(Re,{className:"modal-lg",data:i,show:N,handleShow:q}))},He=t(322),Xe=t.n(He),Ze=t(623),Je=t(624),_e=t(625),$e=t(626),ea=t(627),aa=t(628);var ta=function(e){var a=e.index,t=e.item,n=e.onClickEdit,r=e.onClickRemove;return o.a.createElement("div",{className:"col-md-3"},o.a.createElement(Ze.a,null,o.a.createElement(Je.a,{top:!0,width:"130px",height:"130px",src:t.image,alt:t.title}),o.a.createElement(_e.a,null,o.a.createElement($e.a,{tag:"h5"},t.title),o.a.createElement(ea.a,{tag:"h6",className:"mb-2 text-muted"},w.converteMoeda(t.cost)),o.a.createElement(aa.a,null,t.description),o.a.createElement("button",{onClick:function(){return n(a)},className:"btn btn-primary btn-xs mx-2"},o.a.createElement(I.a,{icon:["fas","cog"]})),o.a.createElement("button",{onClick:function(){return r(a)},className:"btn btn-danger btn-xs mx-2"},o.a.createElement(I.a,{icon:["fas","trash"]})))))},na=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.campanhaAtiva,i=Object(n.useState)({}),m=Object(p.a)(i,2),v=m[0],f=m[1],E=Object(n.useState)({}),h=Object(p.a)(E,2),b=h[0],g=h[1],N=Object(n.useState)(!1),C=Object(p.a)(N,2),y=C[0],k=C[1],A=Object(n.useState)(!1),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(s.useToasts)(),D=z.addToast,T=z.removeAllToasts,M=Object(n.useState)("campaign"),q=Object(p.a)(M,2),I=q[0],P=q[1],Y=x();Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.id){e.next=7;break}return e.next=3,O.get("/campaign/"+a.id,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 3:t=e.sent,(n=t.data).items=n.items.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{image:"".concat(j,"/").concat(e.image)})})),f(Object(Z.a)(Object(Z.a)({},n),{},{date:w.converteData(n.date,"YYYY-MM-DD")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),T()}),[a]),Object(n.useEffect)((function(){k(!1)}),[t]),Object(n.useEffect)((function(){var e=!1;y||(e=!e),v.items&&v.items.length>=1&&(e=!e),F(e)}),[y,v]);var V=function(e){I!==e&&P(e)},G=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.status||l.id===v.id){e.next=8;break}if(!window.confirm("Existe uma campanha ativa, deseja alterar?")){e.next=7;break}return e.next=5,O.put("/campaign",Object(Z.a)(Object(Z.a)({},l),{},{date:l.date.split("T")[0],status:!1}),{headers:{Authorization:"Bearer ".concat(Y.token)}});case 5:e.next=8;break;case 7:return e.abrupt("return");case 8:a={id:v.id?v.id:0,title:v.title,status:v.status,date:v.date,timeStart:v.timeStart,timeEnd:v.timeEnd},k(!0),0!==a.id?O.put("/campaign",a,{headers:{Authorization:"Bearer ".concat(Y.token)}}).then((function(e){L(a.id)})).catch((function(e){console.error(e),D("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})})):O.post("/campaign",a,{headers:{Authorization:"Bearer ".concat(Y.token)}}).then((function(e){console.log(e.data),L(e.data.id)})).catch((function(e){console.error(e),D("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){v.items.forEach((function(a){var t=new FormData;t.set("title",a.title),t.set("cost",a.cost),t.set("description",a.description),t.set("fkCampaign",e>0?e:a.fkCampaign),t.set("image",a.image.replace("".concat(j,"/"),"")),t.set("file",a.file),O.post("/itemCampaign",t,{headers:{Authorization:"Bearer ".concat(Y.token)}}).then((function(e){e.data.error||D("Campanha salva com sucesso!",{appearance:"success"})})).catch((function(e){console.error(e),D("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})}))}))},Q=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];f(o?Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},v[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},e.target.name,e.target.value)))},R=function(e){g(Object(Z.a)(Object(Z.a)({},b),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===v||void 0===v?void 0:v.id)?"#".concat(v.id," - ").concat(null===v||void 0===v?void 0:v.title):"Nova Campanha"),o.a.createElement(ne.a,null,o.a.createElement(oe.a,{tabs:!0},o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"campaign"===I?"active":"",onClick:function(){V("campaign")},style:{cursor:"pointer"}},"Campanha")),o.a.createElement(re.a,null,o.a.createElement(ce.a,{className:"items"===I?"active":"",onClick:function(){V("items")},style:{cursor:"pointer"}},"Items"))),o.a.createElement(le.a,{activeTab:I},o.a.createElement(ie.a,{tabId:"campaign"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"campaignTitle"},"Titulo:"),o.a.createElement("input",{className:"form-control",id:"campaignTitle",name:"title",type:"text",value:v.title,onChange:Q,required:!0,placeholder:"Ex.: Pizza mission\xe1ria"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"Status"},"Status:"),o.a.createElement("select",{name:"status",id:"status",className:"custom-select",value:v.status,onChange:Q},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))),o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"date"},"Data de entrega:"),o.a.createElement("input",{type:"date",className:"form-control",id:"date",name:"date",onChange:Q,value:v.date})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"date"},"Hor\xe1rio de inicio:"),o.a.createElement("input",{type:"time",className:"form-control",id:"timeStart",name:"timeStart",min:"08:00",max:"23:00",onChange:Q,value:v.timeStart})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"timeEnd"},"Hor\xe1rio de fim:"),o.a.createElement("input",{type:"time",className:"form-control",id:"timeEnd",name:"timeEnd",onChange:Q,value:v.timeEnd})))),o.a.createElement(ie.a,{tabId:"items"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"itemTitle"},"Titulo:"),o.a.createElement("input",{className:"form-control",id:"itemTitle",name:"title",type:"text",value:b.title,onChange:R,required:!0,placeholder:"Ex.: Marmita individual"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"itemCost"},"Valor:"),o.a.createElement("input",{className:"form-control",id:"itemCost",name:"cost",type:"text",value:w.converteMoeda(b.cost),onKeyDown:function(e){var a="";"Backspace"===e.key?a=b.cost&&b.cost.toString().slice(0,-1):e.key>=0&&e.key<=9&&(a="".concat(b.cost).concat(e.key).replace("undefined","")),g(Object(Z.a)(Object(Z.a)({},b),{},{cost:a}))},onChange:function(){},required:!0})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"itemImage"},"Imagem:"),o.a.createElement("input",{className:"form-control",id:"itemImage",name:"image",type:"file",onChange:function(e){g(Object(Z.a)(Object(Z.a)({},b),{},{image:URL.createObjectURL(e.target.files[0]),file:e.target.files[0]}))},required:!0,accept:"image/*"})),o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"itemDescription"},"Descri\xe7\xe3o:"),o.a.createElement("textarea",{className:"form-control",name:"description",id:"itemDescription",cols:"10",rows:"5",placeholder:"Ex.: Arroz, feij\xe3o, frango assado, farofa, salada.",onChange:R,value:b.description,required:!0})),o.a.createElement("div",{className:"col-md-3"}),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("img",{src:b.image?b.image:Xe.a,height:"130px",width:"130px"})),o.a.createElement("div",{className:"col-md-12 d-flex justify-content-end "},o.a.createElement("button",{className:b.edit?"btn btn-primary":"btn btn-success",onClick:b.edit?function(){var e=v.items.map((function(e,a){return a===b.index?b:e}));f(Object(Z.a)(Object(Z.a)({},v),{},{items:e})),g({title:"",description:"",cost:0}),document.getElementById("itemImage").value=""}:function(){var e=v.items?v.items:[];e.push(b),f(Object(Z.a)(Object(Z.a)({},v),{},{items:e})),g({title:"",description:"",cost:0}),document.getElementById("itemImage").value=""}},b.edit?o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-edit fa-sm"})," Editar"):o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-plus fa-sm"})," Adicionar"))),o.a.createElement("div",{className:"col-md-12"},o.a.createElement("hr",{className:"mt-2 mb-3"})),v.items&&v.items.map((function(e,a){return o.a.createElement(ta,{key:a,index:a,item:e,onClickEdit:function(e){return function(e){var a=v.items.filter((function(a,t){return t===e&&a}));a=a[0],g(Object(Z.a)(Object(Z.a)({},a),{},{edit:!0,index:e}))}(e)},onClickRemove:function(e){return function(e){var a=v.items.filter((function(a,t){return t==!e&&a}));f(Object(Z.a)(Object(Z.a)({},v),{},{items:a}))}(e)}})})))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return G()},disabled:B},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:y},"Cancelar"))))},oa=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)([]),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)({}),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(0),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)(!1),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(n.useState)(""),T=Object(p.a)(D,2),M=T[0],q=T[1],Y=Object(s.useToasts)().addToast,V=x();Object(n.useEffect)((function(){F||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Campanha - Cadastro de membros CEM",e.next=3,O.get("/campaign",{headers:{Authorization:"Bearer ".concat(V.token)}});case 3:a=e.sent,r(a.data),A(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[A,F]),Object(n.useEffect)((function(){t.map((function(e){e.status&&j(e)}))}),[t]);var G=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/campaign/"+a,{headers:{Authorization:"Bearer ".concat(V.token)}});case 2:e.sent.data.error?Y("N\xe3o foi poss\xedvel remover a campanha!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),Y("Campanha removida com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){m({}),z(!F)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"store",quantidade:k,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));h(a),q(e.target.value)},value:M,placeholder:"Pesquise por campanha"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:M?E:t,titulo:"Campanha",mostrarBotaoNovo:!0,tituloBotao:"Nova campanha",handleShow:L},o.a.createElement(K,{campo:"title",titulo:"Titulo",tamanho:"10"}),o.a.createElement(K,{campo:"status",titulo:"Status",tamanho:"4",corpo:function(e){return function(e){return e.status?"Ativa":"Inativa"}(e)}}),o.a.createElement(K,{campo:"date",titulo:"Data",tamanho:"4",corpo:function(e){return w.converteData(e.date,"dd/mm/yyyy")}}),o.a.createElement(K,{campo:"timeStart",titulo:"Hora Inicio",tamanho:"4"}),o.a.createElement(K,{campo:"timeEnd",titulo:"Hora Fim",tamanho:"4"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),z(!0)},title:"Editar campanha"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return G(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover campanha"},o.a.createElement(I.a,{icon:["fas","trash"]})))}(e)},tamanho:"5"}))))),o.a.createElement(na,{className:"modal-lg",data:i,show:F,handleShow:L,campanhaAtiva:N}))},ra=function e(){Object(ue.a)(this,e),this.explicitType="item",this.id=0,this.title="",this.active="",this.cost="",this.dateDelivery="",this.image=""},ca=function e(){Object(ue.a)(this,e),this.explicitType="pedido",this.id=0,this.name="",this.status="",this.contact="",this.zipCode="",this.address="",this.number="",this.complement="",this.city="",this.type="",this.fkCampaign="",this.timeDelivery="",this.items=[ra]},la=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.campaign,i=Object(n.useState)({}),m=Object(p.a)(i,2),v=m[0],f=m[1],E=Object(n.useState)([]),h=Object(p.a)(E,2),b=h[0],g=h[1],j=Object(n.useState)(""),C=Object(p.a)(j,2),y=C[0],k=C[1],A=Object(n.useState)([]),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)({quantity:1}),D=Object(p.a)(z,2),T=D[0],M=D[1],q=Object(n.useState)(!1),P=Object(p.a)(q,2),V=P[0],G=P[1],L=Object(s.useToasts)(),R=L.addToast,W=(L.removeAllToasts,x());Object(n.useEffect)((function(){G(!1),a&&(f(a),g(a.items)),l&&U()}),[t]);var U=function(){var e=new Date(l.date.split("T")[0]+"T"+l.timeStart),a=new Date(l.date.split("T")[0]+"T"+l.timeEnd),t=[];for(t.push("".concat(("0"+e.getHours()).slice(-2),":").concat(("0"+e.getMinutes()).slice(-2)));e<a;)e.setHours(e.getHours()+1),t.push("".concat(("0"+e.getHours()).slice(-2),":").concat(("0"+e.getMinutes()).slice(-2)));F(t),k("".concat(t[0]," at\xe9 ").concat(t[1]))},H=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",G(!0),(t=new ca).id=v.id?v.id:0,t.name=v.name,t.contact=v.contact,t.type=v.type,t.status=v.status,t.zipCode=v.zipCode,t.address=v.address,t.number=v.number,t.complement=v.complement,t.city=v.city,t.fkCampaign=l.id,t.timeDelivery=y,t.items=b,0===Number(t.id)){e.next=22;break}return e.next=19,O.put("/order",t,{headers:{Authorization:"Bearer ".concat(W.token)}});case 19:a=e.sent,e.next=25;break;case 22:return e.next=24,O.post("/order",t,{headers:{Authorization:"Bearer ".concat(W.token)}});case 24:a=e.sent;case 25:a.data.error?(console.error(a.data.error),R("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):(R("Pedido salvo com sucesso!",{appearance:"success"}),$()),G(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];f(o?Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},v[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.target.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N.a.get("https://viacep.com.br/ws/"+a.target.value+"/json/");case 4:t=(t=e.sent).data,f(Object(Z.a)(Object(Z.a)({},v),{},{address:t.logradouro,city:t.localidade}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),$=function(){f({name:"",contact:"",type:"",status:"",zipCode:"",address:"",number:"",complement:"",city:"",items:[]}),g([])},ee=function(e){M(Object(Z.a)(Object(Z.a)({},T),{},Object(X.a)({},e.target.name,e.target.value)))},oe=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"edit",type:"button",onClick:function(){return M(e)},value:e.id,className:"btn btn-primary btn-xs",title:"Editar Item"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return function(e){var a=v.items.filter((function(a){return a.id!==e.id}));f(Object(Z.a)(Object(Z.a)({},v),{},{items:a}))}(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover Item"},o.a.createElement(I.a,{icon:["fas","trash"]})))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===v||void 0===v?void 0:v.id)?"#".concat(v.id," - ").concat(null===v||void 0===v?void 0:v.name):"Novo Pedido"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"name"},"Nome: ",o.a.createElement("span",{className:"text-danger"},"*")),o.a.createElement("input",{className:"form-control",id:"name",name:"name",type:"text",value:v.name,onChange:J,required:!0})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"contact"},"Contato: ",o.a.createElement("span",{className:"text-danger"},"*")),o.a.createElement("input",{className:"form-control",id:"contact",name:"contact",type:"text",value:v.contact,onChange:J,required:!0})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"type"},"Tipo:"),o.a.createElement("select",{name:"type",id:"type",className:"custom-select",value:v.type,onChange:J},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Retirar"),o.a.createElement("option",{value:"1"},"Entregar"))),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"Status"},"Status:"),o.a.createElement("select",{name:"status",id:"status",className:"custom-select",value:v.status,onChange:J},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"N\xe3o Pago"),o.a.createElement("option",{value:"1"},"Pago"))),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"zipCode"},"CEP:"),o.a.createElement("input",{className:"form-control",id:"zipCode",name:"zipCode",type:"text",value:v.zipCode,onChange:J,onBlur:_})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"timeDeliver"},"Hor\xe1rio para entregar:"),o.a.createElement("select",{className:"custom-select",name:"timeDeliver",id:"timeDeliver",onChange:function(e){return k(e.target.value)},value:y},B.map((function(e,a){return void 0!==B[a+1]&&o.a.createElement("option",{key:a,value:"".concat(e," at\xe9 ").concat(B[a+1])},"".concat(e," at\xe9 ").concat(B[a+1]))})))),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("label",{htmlFor:"address"},"Endere\xe7o:"),o.a.createElement("input",{className:"form-control",id:"address",name:"address",type:"text",value:v.address,onChange:J})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"number"},"N\xfamero:"),o.a.createElement("input",{className:"form-control",id:"number",name:"number",type:"text",value:v.number,onChange:J})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"complement"},"Complemento:"),o.a.createElement("input",{className:"form-control",id:"complement",name:"complement",type:"text",value:v.complement,onChange:J})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"city"},"Cidade:"),o.a.createElement("input",{className:"form-control",id:"city",name:"city",type:"text",value:v.city,onChange:J})),o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("hr",null)),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"quantity"},"Quantidade:"),o.a.createElement("input",{className:"form-control",id:"quantity",name:"quantity",type:"number",value:T.quantity,onChange:ee})),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("label",{htmlFor:"item"},"Item:"),o.a.createElement(be,{className:"form-control",id:"title",name:"title",suggestions:l.items,onChange:ee,onClick:function(e){return function(e){M(Object(Z.a)(Object(Z.a)({},T),e))}(e)},value:T.title,field:"title"})),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("label",{htmlFor:"observation"},"Observa\xe7\xe3o:"),o.a.createElement("input",{className:"form-control",id:"observation",name:"observation",type:"text",value:T.observation,onChange:ee})),o.a.createElement("div",{className:"col-md-10"}),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("button",{className:"btn btn-success w-75",onClick:function(){g([].concat(Object(Y.a)(b),[T])),M({quantity:1,title:"",observation:""})}},"Adicionar")),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement(Q,{data:b},o.a.createElement(K,{campo:"quantity",titulo:"Quant",tamanho:"1"}),o.a.createElement(K,{campo:"title",titulo:"Item",tamanho:"4"}),o.a.createElement(K,{campo:"observation",titulo:"Observa\xe7\xe3o",tamanho:"6"}),o.a.createElement(K,{campo:"cost",titulo:"Valor",tamanho:"2",corpo:function(e){return w.converteMoeda(e.cost)}}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",campo:"id",corpo:function(e){return oe(e)},tamanho:"2"}))),o.a.createElement("div",{className:"col-md-8"}),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"row justify-content-end mr-4 h3"},"Total: ",function(){var e=0;return b&&b.map((function(a){e+=a.cost*a.quantity})),w.converteMoeda(e)}())))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return H()},disabled:V},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:V},"Cancelar"))))},ia=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)([]),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)([]),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)(0),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(n.useState)(!1),T=Object(p.a)(D,2),M=T[0],q=T[1],Y=Object(n.useState)(""),V=Object(p.a)(Y,2),G=V[0],L=V[1],Q=Object(s.useToasts)().addToast,R=x();Object(n.useEffect)((function(){document.title="Pedidos - Cadastro de membros CEM",M||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/campaign",{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,A(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[M]),Object(n.useEffect)((function(){k.map((function(e){e.status&&z(e)}))}),[k]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/order".concat(0!==F?"/".concat(F.id):""),{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,r(a.data),h(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[F]),Object(n.useEffect)((function(){var e=t.length,a=0,n=0;t.forEach((function(e){a+=e.status,n+=!e.status})),j({total:e,pagos:a,aPagar:n})}),[t]);var K=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/order/"+a,{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:e.sent.data.error?Q("N\xe3o foi poss\xedvel remover o Pedido!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),h(n),Q("Pedido removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.put("/orderPayment",{id:a,status:!0},{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:200===(n=e.sent).status?(o=t.map((function(e){return parseInt(e.id)===parseInt(n.data.id)?Object(Z.a)(Object(Z.a)({},e),{},{status:n.data.status}):e})),r(o),h(o),Q("Pedido salvo com sucesso!",{appearance:"success"})):(console.error(n.data.error),Q("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),U=function(){m({items:[]}),q(!M)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"info",icone:"shopping-cart",quantidade:N.total,titulo:"Total"}),o.a.createElement(P,{corFundo:"success",icone:"dollar-sign",quantidade:N.pagos,titulo:"Pagou"}),o.a.createElement(P,{corFundo:"danger",icone:"cash-register",quantidade:N.aPagar,titulo:"Receber"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row bg-gray align-items-center"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6 align-items-center"},o.a.createElement("div",{className:"form-group mt-2"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));h(a),L(e.target.value)},value:G,placeholder:"Pesquise por nome no pedido"})))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"row justify-content-end mr-0"},o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("select",{name:"campaign",id:"campaign",className:"custom-select",onChange:function(e){var a=k.filter((function(a){return parseInt(a.id)===parseInt(e.target.value)&&a}));z(a[0])},value:F.id},k.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.title)})))),o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{className:"btn btn-primary ml-2",type:"button",title:"novo pedido",onClick:function(){return U()}},"Novo Pedido")))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"row ml-0 overflow-auto",style:{height:"70vh"}},E.map((function(e){return o.a.createElement("div",{key:e.id,className:"col-md-2 my-2 mx-0 px-2"},o.a.createElement("div",{className:"card m-0",style:{minHeight:"345px"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("h4",{className:"card-title"},w.separarString(e.name,2)),o.a.createElement("h5",{className:"card-text"},w.mascaraTelefone(e.contact))),o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"m-0",style:{minHeight:"60px"}},e.items.map((function(e,a){return o.a.createElement("div",{key:a,className:"m-0"},"".concat(e.quantity," - ").concat(e.title))}))),o.a.createElement("hr",null),o.a.createElement("p",{className:"card-text m-0 h3 text-right ".concat(e.status?"text-success":"text-danger")},function(e){var a=0;return e.map((function(e){a+=e.cost*e.quantity})),w.converteMoeda(a)}(e.items)),o.a.createElement("p",{className:"card-text"},e.timeDelivery&&"".concat(e.type?"Entregar":"Retirar",": ").concat(e.timeDelivery)),e.address&&o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("p",{className:"card-text mb-0 truncate-text"},"".concat(e.address,", ").concat(e.number)))),o.a.createElement("div",{className:"card-footer text-right"},function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"payment",className:"btn btn-success btn-xs",onClick:function(){W(e.id)},title:"Realizar pagamento"},o.a.createElement(I.a,{icon:["fas","dollar-sign"]}))," ",o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),q(!0)},title:"Editar pedido"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return K(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover pedido"},o.a.createElement(I.a,{icon:["fas","trash"]})))}(e))))}))))),o.a.createElement(la,{className:"modal-lg",data:i,show:M,handleShow:U,campaign:F}))},sa=function e(){Object(ue.a)(this,e),this.explicitType="dizimo",this.id=0,this.idMembro="",this.dataDizimo="",this.valor="",this.nome=""},ma=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=Object(n.useState)({}),m=Object(p.a)(i,2),v=m[0],f=m[1],E=Object(n.useState)(!1),h=Object(p.a)(E,2),b=h[0],g=h[1],N=Object(s.useToasts)(),j=N.addToast,C=N.removeAllToasts,y=x();Object(n.useEffect)((function(){f(a),C()}),[a]),Object(n.useEffect)((function(){g(!1)}),[t]);var k=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",g(!0),(t=new sa).id=v.id?v.id:0,t.nome=v.nome,t.dataDizimo=v.dataDizimo,t.valor=v.valor,t.chEsMembro=v.chEsMembro,0===Number(t.id)){e.next=14;break}return e.next=11,O.put("/dizimos",t,{headers:{Authorization:"Bearer ".concat(y.token)}});case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,O.post("/dizimos",t,{headers:{Authorization:"Bearer ".concat(y.token)}});case 16:a=e.sent;case 17:a.data.error?(console.error(a.data.error),j("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):j("Dizimo salvo com sucesso!",{appearance:"success"}),g(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];f(o?Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},v[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},v),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===v||void 0===v?void 0:v.id)?"#".concat(v.id," - ").concat(null===v||void 0===v?void 0:v.nome):"Novo Dizimo"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(be,{className:"form-control col-md-12",onClick:function(e){f(Object(Z.a)(Object(Z.a)({},v),{},{nome:e.nome,chEsMembro:e.id}))},field:"nome",suggestions:l,value:v.nome,name:"nome",id:"nome",onChange:A,autoComplete:"off"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataDizimo"},"Data:"),o.a.createElement("input",{className:"form-control",type:"date",name:"dataDizimo",id:"dataDizimo",value:w.converteData(v.dataDizimo,"YYYY-MM-DD"),onChange:A})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{className:"form-control",type:"text",name:"valor",id:"valor",value:v.valor,onChange:A})))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return k()},disabled:b},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:b},"Cancelar"))))},ua=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)([]),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(""),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)([]),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(n.useState)(!1),T=Object(p.a)(D,2),M=T[0],q=T[1],Y=Object(s.useToasts)().addToast,V=x();Object(n.useEffect)((function(){M||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/dizimos",{headers:{Authorization:"Bearer ".concat(V.token)}});case 2:a=e.sent,r(a.data),j(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[M]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Dizimos - Cadastro de membros CEM",e.next=3,O.get("/membros",{headers:{Authorization:"Bearer ".concat(V.token)}});case 3:a=e.sent,z(a.data.membros);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var G=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/dizimos/"+a,{headers:{Authorization:"Bearer ".concat(V.token)}});case 2:e.sent.data.error?Y("N\xe3o foi poss\xedvel remover o dizimo!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),Y("Dizimo removida com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){m({}),q(!M)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"user-circle-o",quantidade:N,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));h(a),A(e.target.value)},value:k,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:k?E:t,titulo:"D\xedzimos",mostrarBotaoNovo:!0,tituloBotao:"Novo D\xedzimo",handleShow:L},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"30"}),o.a.createElement(K,{campo:"dataDizimo",titulo:"Data",corpo:function(e){return w.converteData(e.dataDizimo,"DD/MM/YYYY")},tamanho:"8"}),o.a.createElement(K,{campo:"valor",titulo:"Valor",corpo:function(e){return w.converteMoeda(e.valor)},tamanho:"8"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),q(!0)},title:"Editar dizimo"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return G(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover dizimo"},o.a.createElement(I.a,{icon:["fas","trash"]})))}(e)},tamanho:"5"}))))),o.a.createElement(ma,{className:"modal-lg",data:i,show:M,handleShow:L,membros:F}))},da=function e(){Object(ue.a)(this,e),this.explicitType="oferta",this.id=0,this.valor="",this.data=""},pa=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(p.a)(l,2),m=i[0],v=i[1],f=Object(n.useState)(!1),E=Object(p.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,j=g.removeAllToasts,C=x();Object(n.useEffect)((function(){v(a),j()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var y=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new da).id=m.id?m.id:0,t.valor=m.valor,t.data=m.data,0===Number(t.id)){e.next=12;break}return e.next=9,O.put("/ofertas",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,O.post("/ofertas",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 14:a=e.sent;case 15:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Oferta salva com sucesso!",{appearance:"success"}),b(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];v(o?Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},n,Object(Z.a)(Object(Z.a)({},m[n]),{},Object(X.a)({},o,e.target.value)))):Object(Z.a)(Object(Z.a)({},m),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"R$ ".concat(null===m||void 0===m?void 0:m.valor):"Nova Oferta"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"data"},"Data:"),o.a.createElement("input",{className:"form-control",type:"date",name:"data",id:"dataOferta",value:w.converteData(m.data,"YYYY-MM-DD"),onChange:k})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{className:"form-control",type:"text",name:"valor",id:"valor",value:m.valor,onChange:k})))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return y()},disabled:h},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},va=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)([]),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)(""),y=Object(p.a)(C,2),k=y[0],A=y[1],S=Object(n.useState)(!1),B=Object(p.a)(S,2),F=B[0],z=B[1],D=Object(s.useToasts)().addToast,T=x();Object(n.useEffect)((function(){F||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Ofertas - Cadastro de membros CEM",e.next=3,O.get("/ofertas",{headers:{Authorization:"Bearer ".concat(T.token)}});case 3:a=e.sent,r(a.data),j(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[F]),Object(n.useEffect)((function(){F||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/ofertas",{headers:{Authorization:"Bearer ".concat(T.token)}});case 2:a=e.sent,r(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[F]);var M=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/ofertas",a,{headers:{Authorization:"Bearer ".concat(T.token)}});case 2:"OK"===e.sent?(n=t.filter((function(e){return e.id!==a})),r(n),D("Oferta removida com sucesso!",{appearance:"sucess"})):D("N\xe3o foi poss\xedvel remover o oferta!",{appearance:"error"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=function(){m({}),z(!F)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"user-circle-o",quantidade:N,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.dataOferta.toLowerCase().includes(e.currentTarget.value.toLowerCase())}));h(a),A(e.target.value)},value:k,placeholder:"Pesquise por data"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:k?E:t,titulo:"Ofertas",mostrarBotaoNovo:!0,tituloBotao:"Nova Oferta",handleShow:q},o.a.createElement(K,{campo:"valor",titulo:"Valor",corpo:function(e){return w.converteMoeda(e.valor)},tamanho:"10"}),o.a.createElement(K,{campo:"data",titulo:"Data",corpo:function(e){return w.converteData(e.data,"DD/MM/YYYY")},tamanho:"50"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),z(!0)},title:"Editar oferta"},o.a.createElement(I.a,{icon:["fas","cog"]})),"\xa0",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return M(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover oferta"},o.a.createElement(I.a,{icon:["fas","trash"]})))}(e)},tamanho:"5"}))))),o.a.createElement(pa,{className:"modal-lg",data:i,show:F,handleShow:q}))},fa=function e(){Object(ue.a)(this,e),this.explicitType="inscricao",this.id=0,this.nome="",this.email="",this.celular="",this.chEsEvento=0,this.pago=!1},Ea=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=e.eventos,m=Object(n.useState)({}),v=Object(p.a)(m,2),f=v[0],E=v[1],h=Object(n.useState)(!1),b=Object(p.a)(h,2),g=b[0],N=b[1],j=Object(s.useToasts)(),C=j.addToast,y=j.removeAllToasts,w=x();Object(n.useEffect)((function(){E(a),y()}),[a]),Object(n.useEffect)((function(){N(!1)}),[t]);var k=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!0),(a=new fa).id=f.id?f.id:0,a.nome=f.nome,a.email=f.email,a.celular=f.celular,a.pago=f.pago,a.chEsEvento=f.chEsEvento,t="",0!==a.id){e.next=15;break}return e.next=12,O.post("/inscricoes",a,{headers:{Authorization:"Bearer ".concat(w.token)}});case 12:t=e.sent,e.next=18;break;case 15:return e.next=17,O.put("/inscricoes",a,{headers:{Authorization:"Bearer ".concat(w.token)}});case 17:t=e.sent;case 18:t.data.error?C("Erro ao salvar inscri\xe7\xe3o!",{appearance:"error"}):(C("Inscri\xe7\xe3o salva com sucesso!",{appearance:"success"}),E({})),N(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){var a=e.target.name.split("."),t=Object(p.a)(a,2),n=t[0],o=t[1];E(o?Object(Z.a)(Object(Z.a)({},f),{},Object(X.a)({},n,Object(X.a)({},o,e.target.value))):Object(Z.a)(Object(Z.a)({},f),{},Object(X.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{isOpen:t,toggle:r,className:c},o.a.createElement(te.a,{toggle:r},(null===f||void 0===f?void 0:f.id)?"#".concat(f.id," - ").concat(null===f||void 0===f?void 0:f.nome):"Nova Inscri\xe7\xe3o"),o.a.createElement(ne.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(be,{className:"form-control col-md-12",onClick:function(e){E(Object(Z.a)(Object(Z.a)({},f),{},{nome:e.nome,email:e.contato.email,celular:e.contato.celular,telefone:e.contato.telefone}))},field:"nome",suggestions:l,value:f.nome,name:"nome",id:"nome",onChange:A,autoComplete:"no"})),o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",type:"text",name:"email",id:"email",value:f.email,onChange:A})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{className:"form-control",type:"text",name:"celular",id:"celular",value:f.celular,onChange:A})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{className:"form-control",type:"text",name:"telefone",id:"telefone",value:f.telefone,onChange:A})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"pago"},"Pago:"),o.a.createElement("select",{name:"pago",id:"pago",className:"custom-select",value:f.pago,onChange:A},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"N\xe3o"),o.a.createElement("option",{value:"1"},"Sim"))),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("label",{htmlFor:"chEsEvento"},"Evento:"),o.a.createElement("select",{name:"chEsEvento",id:"chEsEvento",className:"custom-select",value:f.chEsEvento,onChange:A},o.a.createElement("option",null,"Escolha..."),i.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)})))))),o.a.createElement(se.a,null,o.a.createElement(me.a,{type:"button",color:"success",onClick:function(){return k()},disabled:g},"Salvar")," ",o.a.createElement(me.a,{type:"button",color:"danger",onClick:r,disabled:g},"Cancelar"))))},ha=function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(p.a)(c,2),i=l[0],m=l[1],v=Object(n.useState)(0),f=Object(p.a)(v,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),N=g[0],j=g[1],C=Object(n.useState)([]),y=Object(p.a)(C,2),w=y[0],k=y[1],A=Object(n.useState)([]),S=Object(p.a)(A,2),B=S[0],F=S[1],z=Object(n.useState)(""),D=Object(p.a)(z,2),T=D[0],M=D[1],q=Object(n.useState)(!1),Y=Object(p.a)(q,2),V=Y[0],G=Y[1],L=Object(s.useToasts)().addToast,R=x();Object(n.useEffect)((function(){document.title="Inscri\xe7\xf5es - Cadastro de membros CEM",W()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/inscricoes",{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,r(a.data),h(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[V]);var W=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/eventos",{headers:{Authorization:"Bearer ".concat(R.token)},params:{ativo:!0}});case 2:return a=e.sent,k(a.data),e.next=6,U();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/membros",{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:a=e.sent,j(a.data.membros);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){m({}),G(!V)},X=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/inscricoes/"+a,{headers:{Authorization:"Bearer ".concat(R.token)}});case 2:e.sent.data.error?L("N\xe3o foi poss\xedvel remover o inscri\xe7\xe3o!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),L("Inscri\xe7\xe3o removida com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(P,{corFundo:"primary",icone:"calendar-day",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().includes(e.currentTarget.value.toLowerCase())}));F(a),M(e.target.value)},value:T,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(Q,{data:T?B:t,titulo:"Inscri\xe7\xf5es",mostrarBotaoNovo:!0,tituloBotao:"Nova Inscri\xe7\xe3o",handleShow:H},o.a.createElement(K,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(K,{campo:"email",titulo:"E-mail",tamanho:"15"}),o.a.createElement(K,{campo:"telefone",titulo:"Telefone",tamanho:"10"}),o.a.createElement(K,{campo:"celular",titulo:"Celular",tamanho:"10"}),o.a.createElement(K,{campo:"evento",titulo:"Evento",tamanho:"10"}),o.a.createElement(K,{campo:"pago",titulo:"Pago",corpo:function(e){return function(e){return e.pago?"Sim":"N\xe3o"}(e)},tamanho:"8"}),o.a.createElement(K,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),G(!0)},title:"Editar inscri\xe7\xe3o"},o.a.createElement(I.a,{icon:["fas","cog"]}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return X(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover inscri\xe7\xe3o"},o.a.createElement(I.a,{icon:["fas","trash"]})))}(e)},tamanho:"8"}))))),o.a.createElement(Ea,{className:"modal-lg",data:i,show:V,handleShow:H,membros:N,eventos:w}))},ba=t(42),ga=ba.e.create({table:{flex:1,flexDirection:"column",alignSelf:"stretch",borderStyle:"solid",borderWidth:1,borderColor:"#757575",width:"90vw"},thead:{flex:1,flexDirection:"row",alignSelf:"stretch",backgroundColor:"#5c5c5c",color:"#fff"},trow:{flex:1,flexDirection:"row",alignSelf:"stretch"},trowBackground:{flex:1,flexDirection:"row",alignSelf:"stretch",backgroundColor:"#e2e2e2"},tcol:{width:"25%",borderStyle:"solid",borderTopWidth:1,borderRightWidth:1,borderColor:"#757575"},tcell:{lineHeight:1.4,margin:"auto",marginTop:5,paddingLeft:2,paddingRight:2,fontSize:10}}),Na=function(e){var a=e.data,t=e.children,r=void 0===t?[]:t;return o.a.createElement(ba.g,{style:ga.table},o.a.createElement(ba.g,{style:ga.thead,fixed:!0},r.map((function(e,a){return o.a.createElement(ba.g,{style:[ga.tcol,{width:"".concat(e.props.size,"vw")}],key:a},o.a.createElement(ba.f,{style:ga.tcell},e.props.title))}))),a.map((function(e,a){return o.a.createElement(ba.g,{key:a,style:(t=a,t%2===0?ga.trow:ga.trowBackground)},n.Children.map(r,(function(a){var t=a.props.body?a.props.body(e):function(e,a){var t=e.split("."),n=Object(p.a)(t,2),o=n[0],r=n[1];return o&&r?a[o][r]:a[e]}(a.props.field,e);return o.a.cloneElement(a,{value:t,styles:ga,size:a.props.size})})));var t})))},ja=function(e){var a=e.value,t=e.styles,n=e.size;return o.a.createElement(ba.g,{style:[t.tcol,{width:"".concat(n,"vw")}]},o.a.createElement(ba.f,{style:t.tcell},a))},Oa=ba.e.create({viewer:{width:"100vw",height:"100vh"},page:{display:"flex",flexDirection:"column",width:"100vw",fontSize:10,paddingTop:"2vh",paddingRight:"2vw",paddingBottom:"5vh",paddingLeft:"5vw"},header:{width:"90vw",display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",marginBottom:10},logo:{width:"10vw",height:"10vh"},headerText:{fontSize:18,fontWeight:"700",paddingRight:"2vw"},content:{display:"flex",justifyContent:"flex-start",width:"100%",marginBottom:"5vh"}}),Ca=function(e){var a=Object(n.useState)([]),t=Object(p.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(!0),s=Object(p.a)(l,2),m=s[0],v=s[1],f=Object(i.g)();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.search,e.next=3,O.get("/relatorios/membros".concat(a));case 3:if(!(t=e.sent).data.error){e.next=6;break}return e.abrupt("return");case 6:c(t.data),v(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),m?o.a.createElement(q,null):o.a.createElement(ba.c,{style:Oa.viewer},o.a.createElement(ba.a,{title:"Relat\xf3rio de membros",style:{padding:"2rem"}},o.a.createElement(ba.d,{size:"A4",style:Oa.page,orientation:"landscape"},o.a.createElement(ba.g,{style:Oa.header,fixed:!0},o.a.createElement(ba.b,{src:"cem.png",style:Oa.logo}),o.a.createElement(ba.f,{style:Oa.headerText},"Relat\xf3rio de Membros")),o.a.createElement(ba.g,{style:Oa.content},o.a.createElement(Na,{data:r},o.a.createElement(ja,{title:"Nome",field:"nome",size:"25"}),o.a.createElement(ja,{title:"E-mail",field:"email",size:"25"}),o.a.createElement(ja,{title:"Celular",field:"celular",size:"12"}),o.a.createElement(ja,{title:"Telefone",field:"telefone",size:"12"}),o.a.createElement(ja,{title:"Data de Nascimento",field:"dataNascimento",body:function(e){return w.converteData(e.dataNascimento,"DD/MM/YYYY")},size:"16"}))))))},ya=function(){return o.a.createElement(i.a,{path:"/relatorios/membro",component:Ca})},xa=function(){var e=Object(n.useMemo)((function(){return{signIn:function(e){var a;a=e,sessionStorage.setItem(C,JSON.stringify(a))},signOut:function(){sessionStorage.removeItem(C)}}}),[]);return Object(n.useEffect)((function(){(document.title="Cadastro de membros CEM",window.matchMedia("(prefers-color-scheme: dark)").matches)&&(document.getElementById("favicon").href="logo_cem_branca.png")}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(k.Provider,{value:e},o.a.createElement(s.ToastProvider,{autoDismiss:!0},o.a.createElement(l.a,null,o.a.createElement(i.c,null,o.a.createElement(B,{exact:!0,path:"/dashboard",component:W,name:"Dashboard"}),o.a.createElement(B,{exact:!0,path:"/membro",component:De,name:"Membros"}),o.a.createElement(B,{exact:!0,path:"/visitante",component:Ye,name:"Visitantes"}),o.a.createElement(B,{exact:!0,path:"/ministerio",component:Le,name:"Minist\xe9rios"}),o.a.createElement(B,{exact:!0,path:"/evento",component:Ue,name:"Eventos"}),o.a.createElement(B,{exact:!0,path:"/campanha",component:oa,name:"Campanha"}),o.a.createElement(B,{exact:!0,path:"/pedidos",component:ia,name:"Pedido"}),o.a.createElement(B,{exact:!0,path:"/inscricoes",component:ha,name:"Inscri\xe7\xf5es"}),o.a.createElement(B,{exact:!0,path:"/dizimo",component:ua,name:"Dizimos"}),o.a.createElement(B,{exact:!0,path:"/oferta",component:va,name:"Ofertas"}),o.a.createElement(B,{exact:!0,path:"/perfil",component:ee,name:"Perfil"}),o.a.createElement(B,{exact:!0,path:"/usuarios",component:Ne,name:"Usu\xe1rios"}),o.a.createElement(i.a,{path:"/relatorios/*",component:ya}),o.a.createElement(i.a,{exact:!0,path:"/recuperar",component:H}),o.a.createElement(i.a,{exact:!0,path:"/inscricao",component:$}),o.a.createElement(i.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(M,e)}}),o.a.createElement(i.a,{path:"*",component:U}))))))},wa=(t(611),t(612),t(91)),ka=t(334);wa.b.add(ka.a),c.a.render(o.a.createElement(xa,null),document.getElementById("root"))},75:function(e){e.exports=JSON.parse('{"homepage":"https://ruivotech.github.io/","name":"cem","version":"3.2.4","private":true,"dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.35","@fortawesome/free-solid-svg-icons":"^5.15.3","@fortawesome/react-fontawesome":"^0.1.14","@material-ui/core":"^4.9.0","@material-ui/icons":"^4.5.1","@material-ui/lab":"^4.0.0-alpha.42","@react-pdf/renderer":"^1.6.10","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","axios":"^0.19.2","bootstrap":"^4.4.1","font-awesome":"^4.7.0","jsonwebtoken":"^8.5.1","primeicons":"^2.0.0","primereact":"^3.4.0","prop-types":"^15.7.2","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"^3.4.3","react-toast-notifications":"^2.4.0","reactstrap":"^8.4.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","postbuild":"mv build/* ../build && cd ../delivery && yarn build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"yarn build","deploy":"gh-pages -d ../build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-notification-system":"^0.2.39","@types/reactstrap":"^8.7.2","gh-pages":"^2.2.0"}}')}},[[338,1,2]]]);
//# sourceMappingURL=main.3300d6a1.chunk.js.map