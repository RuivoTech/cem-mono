(this.webpackJsonpcem=this.webpackJsonpcem||[]).push([[0],{150:function(e,a,t){e.exports=t.p+"static/media/Logo1.310e2928.jpg"},345:function(e,a,t){e.exports=t.p+"static/media/Logo3.3ba7f498.jpg"},346:function(e,a,t){e.exports=t.p+"static/media/Logo2.445771aa.jpg"},363:function(e,a,t){e.exports=t(676)},379:function(e,a){},381:function(e,a){},393:function(e,a){},395:function(e,a){},423:function(e,a){},425:function(e,a){},426:function(e,a){},432:function(e,a){},434:function(e,a){},452:function(e,a){},454:function(e,a){},466:function(e,a){},469:function(e,a){},504:function(e,a,t){},505:function(e,a,t){},506:function(e,a,t){},507:function(e,a,t){},542:function(e,a){},543:function(e,a){},675:function(e,a,t){},676:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(50),c=t.n(r),l=t(44),i=t(40),s=t(22),m=t(5),u=t.n(m),d=t(11),v=t(3),p=t(155),f=t(104),E=t.n(f),h=function(e){var a=e.nome,t=Object(i.g)();return o.a.createElement("div",{className:"menu"},o.a.createElement("div",{className:"col-sm-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("h2",{className:"h2 m-b-none",style:{textTransform:"capitalize"}},function(e){var t=e.split("/");return t[2]?t[1]+" > "+a:a}(t.pathname))))))},b=t(76),g=t(105),N=t.n(g),j=(window.location.hostname,N.a.create({baseURL:"https://localhost:3333"})),O="@BibliotecaDD:token",x=function(){return null!==sessionStorage.getItem(O)},y=function(){var e=sessionStorage.getItem(O);return JSON.parse(e)},w={converteData:function(e,a){var t=e?new Date("".concat(e.split("T")[0],"T00:00:00")):new Date("0000-00-00T00:00:00"),n=t.getFullYear(),o=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2),c="";switch(a){case"DD/MM":c=r+"/"+o;break;case"DD/MM/YY":c=r+"/"+o+"/"+n.substring(2,4);break;case"DD":c=r;break;case"MM/DD":c=o+"/"+r;break;case"YYYY-MM-DD":c=n+"-"+o+"-"+r;break;default:c=r+"/"+o+"/"+n}return t&&"0000"!==n&&null!==e?c:"-"},separarString:function(e,a){for(var t=e.split(" "),n="",o=0;o<a;o++)n=n+" "+t[o];return n},converteMoeda:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e);var t=(a?e/100:e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return t}},C=o.a.createContext(),k=(t(504),function(e){var a=e.onClick,t=Object(i.f)(),r=Object(n.useContext)(C).signOut,c=Object(n.useState)({id:"",nome:"",email:"",permissoes:[{id:"",menuPermissao:"",grupoMenuPermissao:"",chEsUsuario:"",chEsMenuPermissao:""}]}),s=Object(v.a)(c,2),m=s[0],p=s[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y(),t=E.a.decode(a.token),e.next=4,j.get("/usuarios/"+t.id,{headers:{Authorization:"Bearer ".concat(a.token)}});case 4:n=e.sent,p(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return o.a.createElement("div",{className:"sidebar"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"user-info"},o.a.createElement("span",{className:"user-name"},o.a.createElement(l.b,{to:"/configuracao/perfil",title:"Meu perfil"},w.separarString(m.nome,2))),o.a.createElement("span",{className:"user-email"},m.email),o.a.createElement(l.b,{className:"user-logout",to:"#",onClick:function(){r(),t.push("/")}},o.a.createElement("i",{className:"fa fa-sign-out"})," ",o.a.createElement("span",{className:"d-sm-inline"},"Sair")))),o.a.createElement("ul",{className:"nav flex-column flex-nowrap"},o.a.createElement("li",{className:"nav-item",key:"dashboard"},o.a.createElement(l.c,{className:"nav-link sidebar-link",activeClassName:"sidebar-link-active",to:"/dashboard",onClick:a},o.a.createElement("span",{className:"d-sm-inline"},"Dashboard"))),m.permissoes.map((function(e){return o.a.createElement("li",{className:"nav-item",key:e.chEsMenuPermissao},o.a.createElement(l.c,{className:"nav-link sidebar-link",activeClassName:"sidebar-link-active",to:"/".concat(e.menuPermissao),onClick:a},o.a.createElement("span",{className:"d-sm-inline"},e.descricao)))}))),o.a.createElement("div",{className:"fixed-bottom"},o.a.createElement("div",{className:"col"},o.a.createElement("p",{className:"h5"},o.a.createElement("a",{className:"sidebar-link",href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o"," ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))}),S=function(e){var a=e.component,t=e.path,r=(e.location,e.name),c=Object(p.a)(e,["component","path","location","name"]),l=Object(n.useContext)(C).signOut,s=Object(i.f)(),m=Object(n.useState)(!1),f=Object(v.a)(m,2),b=f[0],g=f[1],N=Object(n.useState)({id:"",nome:"",email:"",permissoes:[{id:"",menuPermissao:"",grupoMenuPermissao:"",chEsUsuario:"",chEsMenuPermissao:""}]}),O=Object(v.a)(N,2),w=O[0],S=O[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x()){e.next=10;break}return g(!b),a=y(),t=E.a.decode(a.token),e.next=6,j.get("/usuarios/"+t.id,{headers:{Authorization:"Bearer ".concat(a.token)}});case 6:n=e.sent,S(n.data),e.next=12;break;case 10:l(),s.push("/");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){F()}))}),[]),Object(n.useEffect)((function(){F()}),[t]);var F=function(){w.permissoes.findIndex((function(e){return"/".concat(e.menuPermissao)===t}))<0&&s.push("/dashboard")};return b&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k,null),o.a.createElement(h,{nome:r}),o.a.createElement(i.a,{path:t,render:function(e){return o.a.createElement(a,Object.assign({},e,c))}}))},F=t(345),D=t.n(F),M=t(150),z=t.n(M),T=function(){var e=Object(i.f)(),a=Object(n.useContext)(C).signIn,t=Object(n.useState)(!1),r=Object(v.a)(t,2),c=r[0],l=r[1],s=Object(n.useState)(""),m=Object(v.a)(s,2),p=m[0],f=m[1],E=Object(n.useState)(""),h=Object(v.a)(E,2),g=h[0],N=h[1],O=Object(n.useState)(""),x=Object(v.a)(O,2),y=x[0],w=x[1],k=function(){var t=Object(d.a)(u.a.mark((function t(n){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),l(!0),p&&g){t.next=6;break}w("Preencha e-mail e senha para continuar!"),t.next=16;break;case 6:return t.prev=6,t.next=9,j.post("/login",{email:p,senha:g});case 9:(o=t.sent).data.error?(l(!1),w(o.data.error)):(a(o.data),l(!1),e.push("/dashboard")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},o.a.createElement("img",{src:D.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:0,top:0,width:"50%",height:"100vh",opacity:.2}}),o.a.createElement("img",{src:z.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:"50%",top:0,width:"50%",height:"100vh",opacity:.4}}),o.a.createElement("div",{className:"card",style:{width:"24vw",borderRadius:"10px",boxShadow:"15px 15px 12px 2px rgba(61, 61, 61, 0.8)"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",{style:{textAlign:"center",marginTop:"2vh",lineHeight:1}},"Login")),o.a.createElement("div",{className:"card-body"},o.a.createElement("form",{onSubmit:k},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail"),o.a.createElement("input",{type:"text",id:"email",className:"form-control",placeholder:"Digite seu email...",value:p,onChange:function(e){return f(e.target.value)},readOnly:c,autoFocus:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"senha"},"Senha"),o.a.createElement("input",{type:"password",id:"senha",className:"form-control",placeholder:"Digite sua senha...",value:g,onChange:function(e){return N(e.target.value)},readOnly:c})),o.a.createElement("button",{className:"btn btn-success btn-block",style:{fontSize:18,fontWeight:700,lineHeight:1.2},disabled:c},"Entrar"))),o.a.createElement("div",{className:"card-footer",style:{minHeight:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.a.createElement("div",null,y&&o.a.createElement("p",{className:"text-danger"},y)),o.a.createElement("div",null,o.a.createElement("p",{className:"h5"},o.a.createElement("a",{href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))))},B=function(){return o.a.createElement("div",{className:"text-center text-success"},o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only "},"Carregando...")))},I=(t(505),function(e){var a=e.icone,t=e.titulo,n=e.quantidade,r=e.corFundo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 col-xl-2"},o.a.createElement("div",{className:"info-box bg-"+r+" hover-expand-effect",style:{border:"1px solid ".concat({success:{color:"rgb(0, 255, 0)",shadow:"rgba(0, 255, 0, 0.8)"},danger:{color:"rgb(255, 0, 0)",shadow:"rgba(255, 0, 0, 0.8)"},warning:{color:"rgb(255, 255, 0)",shadow:"rgba(255, 255, 0, 0.8)"},primary:{color:"rgb(0, 0, 255)",shadow:"rgba(0, 0, 255, 0.8)"},info:{color:"rgb(0, 255, 255)",shadow:"rgba(0, 255, 255, 0.8)"}}[r].color),boxShadow:"2px 2px 5px 2px rgba(61, 61, 61, 0.8)"}},o.a.createElement("div",{className:"icon h-100"},o.a.createElement("i",{className:"fa fa-"+a+" fa-2x"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"text"},t),o.a.createElement("div",{className:"number"},n)))))}),A=(t(506),t(56)),P="LEFT",q=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,o=[];n<=a;)o.push(n),n+=t;return o},Y=function(e){var a=e.data,t=void 0===a?[]:a,r=e.renderItems,c=e.limiteItems,l=void 0===c?20:c,i=e.pageNeighbours,s=void 0===i?1:i,m=Object(n.useState)(1),u=Object(v.a)(m,2),d=u[0],p=u[1],f=l,E=t.length,h=Math.ceil(E/f),b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],j=g[1],O=Object(n.useState)(0),x=Object(v.a)(O,2),y=x[0],w=x[1],C=Object(n.useState)(0),k=Object(v.a)(C,2),S=k[0],F=k[1];Object(n.useEffect)((function(){D(1)}),[t]),Object(n.useEffect)((function(){!function(){var e=2*s+3;if(h>e+2){var a=Math.max(2,d-s),t=Math.min(h-1,d+s),n=q(a,t),o=a>2,r=h-t>1,c=e-(n.length+1);switch(!0){case o&&!r:var l=q(a-c,a-1);n=[P].concat(Object(A.a)(l),Object(A.a)(n));break;case!o&&r:var i=q(t+1,t+c);n=[].concat(Object(A.a)(n),Object(A.a)(i),["RIGHT"]);break;case o&&r:default:n=[P].concat(Object(A.a)(n),["RIGHT"])}j([1].concat(Object(A.a)(n),[h]))}else j(q(1,h))}()}),[d]);var D=function(e){var a=Math.max(0,Math.min(e,h)),n=(a-1)*f,o=t.slice(n,n+f);w(n+1),F(n+f),p(a),r(o)};return 0===E?o.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Nenhuma informa\xe7\xe3o encontrada."):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"dataTables_info pull-left pt-3"},"Exibindo de ",y>E?E:y," a ",S>E?E:S," / Total ",E),o.a.createElement("div",{className:"dataTables_paginate paging_simple_numbers pull-right pt-3"},o.a.createElement("ul",{className:"pagination"},N.map((function(e,a){return e===P?o.a.createElement("li",{key:a,className:"page-item"},o.a.createElement("button",{className:"page-link",onClick:function(){return D(d-1)}},o.a.createElement("span",{"aria-hidden":"true"},"\xab"),o.a.createElement("span",{className:"sr-only"},"Anterior"))):"RIGHT"===e?o.a.createElement("li",{key:a,className:"page-item"},o.a.createElement("button",{className:"page-link",onClick:function(){return D(d+1)}},o.a.createElement("span",{"aria-hidden":"true"},"\xbb"),o.a.createElement("span",{className:"sr-only"},"Pr\xf3xima"))):o.a.createElement("li",{key:a,className:"page-item".concat(d===e?" active":"")},o.a.createElement("button",{className:"page-link",onClick:function(){return D(e)}},e))})))))},R=function(e){var a=e.titulo,t=e.tituloBotao,r=e.mostrarBotaoNovo,c=e.mostrarBotaoRelatorio,l=e.data,i=void 0===l?[]:l,s=e.handleShow,m=e.handleShowRelatorio,u=e.height,d=e.corLinha,p=e.children,f=void 0===p?[]:p,E=e.limiteItems,h=void 0===E?20:E,b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],j=g[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"tabela"},a&&o.a.createElement("div",{className:"tabela-titulo"},o.a.createElement("div",{className:"h1 pull-left"},a),o.a.createElement("div",{className:"tabela-config"},c&&o.a.createElement("button",{type:"button",onClick:function(){return m()},className:"btn btn-outline-secondary mr-2"},"Gerar PDF"),r&&o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{className:"btn btn-outline-primary ml-2",type:"button",title:t,onClick:function(){return s()}},t)))),o.a.createElement("div",{className:"tabela-corpo"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"dataTables_wrapper"},o.a.createElement("div",{className:"overflow-hidden",style:u},o.a.createElement("table",{className:"table table-sm table-striped table-hover"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",null,f.map((function(e){return o.a.createElement("th",{scope:"col",key:e.props.titulo,style:{width:e.props.tamanho+"vw"}},e.props.titulo)})))),o.a.createElement("tbody",{className:"overflow-auto",style:{maxHeight:"calc(80vh - 230px)"}},null===N||void 0===N?void 0:N.map((function(e,a){return o.a.createElement("tr",{role:"row",key:a,className:d?d(e):null},o.a.Children.map(f,(function(a){var t=a.props.corpo?a.props.corpo(e):function(e,a){var t=e.split("."),n=Object(v.a)(t,2),o=n[0],r=n[1];return o&&r?a[o][r]:a[e]}(a.props.campo,e);return o.a.cloneElement(a,{valor:t,className:a.props.className})})))}))))),o.a.createElement(Y,{data:i,renderItems:function(e){j(e)},limiteItems:h}))))))},V=function(e){var a=e.valor,t=e.className,n=e.tamanho,r=(e.corpo,Object(p.a)(e,["valor","className","tamanho","corpo"]));return o.a.createElement(o.a.Fragment,null,o.a.createElement("td",Object.assign({className:"align-middle "+t,style:{width:n+"vw"}},r),a))},L=Object(i.h)((function(){var e=Object(n.useState)({}),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!0),l=Object(v.a)(c,2),i=l[0],s=l[1],m=(new Date).toLocaleString("pt-BR",{month:"long"});return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y(),e.next=3,j.get("/home",{headers:{Authorization:"Bearer ".concat(a.token)}});case 3:t=e.sent,r(t.data),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Dashboard - Cadastro de Membros CEM",e()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement(I,{corFundo:"success",icone:"users",quantidade:t.quantidadeMembros,titulo:"Membros"}),o.a.createElement(I,{corFundo:"danger",icone:"globe",quantidade:t.quantidadeVisitantes,titulo:"Visitantes"}),o.a.createElement(I,{corFundo:"info",icone:"calendar",quantidade:t.quantidadeEventos,titulo:"Eventos"})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement(R,{titulo:"Aniversariantes de ".concat(m),data:t.aniversariantes},o.a.createElement(V,{titulo:"Dia",campo:"dataNascimento",corpo:function(e){return w.converteData(e.dataNascimento,"DD")},tamanho:3}),o.a.createElement(V,{titulo:"Nome",campo:"nome",tamanho:20}),o.a.createElement(V,{titulo:"Idade",campo:"idade",tamanho:4}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement(R,{titulo:"Casados de ".concat(m),data:t.casados},o.a.createElement(V,{titulo:"Dia",campo:"dataNascimento",corpo:function(e){return w.converteData(e.dataCasamento,"DD")},tamanho:3}),o.a.createElement(V,{titulo:"Nome",campo:"nome",tamanho:20}),o.a.createElement(V,{titulo:"Idade",campo:"idade",tamanho:4}))),i&&o.a.createElement(B,null)))})),H=function(){return o.a.createElement("h1",null,"Not Found")},_=function(){return o.a.createElement("div",{className:"container"},"Recuperar")},U=t(20),G=t(8),W=t(346),J=t.n(W),K=function(){var e=Object(n.useState)({}),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(v.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)(""),N=Object(v.a)(g,2),O=N[0],x=N[1],y=Object(s.useToasts)().addToast;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Inscri\xe7\xf5es para eventos do CEM",e.next=3,j.get("/eventosInscricao",{params:{ativo:!0}});case 3:a=e.sent,m(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=function(e){r(Object(G.a)(Object(G.a)({},t),{},Object(U.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(!0),r(Object(G.a)(Object(G.a)({},t),{},{pago:!1})),e.next=5,j.post("/inscricao",t);case 5:(n=e.sent).data.error?(console.error(n.data.error),y("Desculpe, algo deu errado, por favor entre em contato com seu pastor.",{appearance:"error"}),x(n.data.error)):(y("Inscri\xe7\xe3o salva com sucesso!",{appearance:"success"}),r({})),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},o.a.createElement("img",{src:J.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:0,top:0,width:"50%",height:"100vh",opacity:.2}}),o.a.createElement("img",{src:z.a,alt:"Logo Sistema CEM",style:{position:"absolute",left:"50%",top:0,width:"50%",height:"100vh",opacity:.4}}),o.a.createElement("div",{className:"card",style:{width:"34vw",borderRadius:"10px",boxShadow:"15px 15px 12px 2px rgba(61, 61, 61, 0.8)"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",{style:{textAlign:"center",marginTop:"2vh",lineHeight:1}},"Inscri\xe7\xf5es para eventos do CEM")),o.a.createElement("div",{className:"card-body"},O&&o.a.createElement("div",{className:"alert alert-danger",role:"alert"},O),o.a.createElement("form",{className:"form-sigin",onSubmit:C},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"nome",onChange:w,placeholder:"Nome completo",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control evento",name:"evento",onChange:w,required:!0},o.a.createElement("option",{value:""},"Escolha um evento"),i.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control email",type:"email",name:"email",onChange:w,placeholder:"Email",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"celular",onChange:w,placeholder:"Celular",required:!0})),o.a.createElement("div",{className:"custom-control custom-checkbox mb-3"}),o.a.createElement("button",{className:"btn btn-lg btn-success btn-block text-uppercase",type:"submit",disabled:E},"Inscrever-se"),o.a.createElement("hr",{className:"my-4"}))),o.a.createElement("div",{className:"card-footer",style:{minHeight:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.a.createElement("div",null,O&&o.a.createElement("p",{className:"text-danger"},O)),o.a.createElement("div",null,o.a.createElement("p",{className:"h5"},o.a.createElement("a",{href:"https://github.com/RuivoTech",title:"Todos os direitos reservados.",target:"_blank"},"\xa9 RuivoTech")),o.a.createElement("span",{className:"h6 font-weight-bold"},"Vers\xe3o ",o.a.createElement("a",{href:"https://github.com/RuivoTech/cem-react/tree/".concat(b.version),target:"_blank"},b.version)))))))},Q=function(){var e=Object(i.f)(),a=Object(n.useContext)(C).signOut,t=Object(n.useState)({}),r=Object(v.a)(t,2),c=r[0],l=r[1],s=Object(n.useState)(""),m=Object(v.a)(s,2),p=m[0],f=m[1],h=Object(n.useState)("form-control"),b=Object(v.a)(h,2),g=b[0],N=b[1],O=Object(n.useState)({}),x=Object(v.a)(O,2),w=x[0],k=x[1],S=y();Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.decode(S.token),e.next=3,j.get("/usuarios/"+a.id,{headers:{Authorization:"Bearer ".concat(S.token)}}).then((function(e){e.data.error||l(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var F=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,j.put("/usuarios",c,{headers:{Authorization:"Bearer ".concat(S.token)}});case 4:(n=t.sent).data.error?k({mensagem:n.data.error,className:"danger"}):(k({mensagem:"Usu\xe1rio alterado com sucesso!",className:"success"}),confirm("Por favor, fa\xe7a login novamente!")&&(a(),e.push("/"))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),D=function(e){l(Object(G.a)(Object(G.a)({},c),{},Object(U.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content d-flex justify-content-center mt-2"},o.a.createElement("div",{className:"card overflow-auto",style:{height:"80vh"}},o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{className:"form-control",type:"text",id:"nome",name:"nome",value:null===c||void 0===c?void 0:c.nome,onChange:D}))),o.a.createElement("div",{className:"col-sm-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",type:"email",id:"email",name:"email",value:null===c||void 0===c?void 0:c.email,onChange:D}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"senha"},"Senha:"),o.a.createElement("input",{className:g,type:"password",id:"senha",name:"senha",value:null===c||void 0===c?void 0:c.senha,onChange:D}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"verificarSenha"},"Verificar Senha:"),o.a.createElement("input",{className:g,type:"password",id:"verificarSenha",name:"verificarSenha",value:p,onChange:function(e){c.senha===e.target.value?N("form-control is-valid"):N("form-control is-invalid"),f(e.target.value)}})))),o.a.createElement("div",{className:"position-absolute fixed-bottom p-2 border-top overflow-hidden"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:F},"Salvar")),o.a.createElement("div",{className:"col-md-6"},w&&o.a.createElement("div",{className:"bg-"+w.className+" rounded"},o.a.createElement("p",{className:"text-white px-2"},w.mensagem)))))))},$=t(686),X=t(677),Z=t(678),ee=t(679),ae=t(680),te=t(681),ne=t(682),oe=t(683),re=t(684),ce=t(685),le=t(27),ie=function e(){Object(le.a)(this,e),this.explicitType="permissao",this.id=0,this.chEsUsuario=0,this.chEsMenuPermissao=0,this.inserir=!1,this.alterar=!1,this.visualizar=!1,this.remover=!1,this.menuPermissao=""},se=function e(){Object(le.a)(this,e),this.explicitType="usuario",this.id=0,this.nome="",this.senha="",this.email="",this.chEsMembro="",this.chEsUsuario="",this.permissoes=[ie]},me=t(347),ue=t(361),de=t(360),ve=(t(507),function(e){Object(ue.a)(t,e);var a=Object(de.a)(t);function t(e){var n;return Object(le.a)(this,t),(n=a.call(this,e)).onChange=function(e){var a=n.props,t=a.suggestions,o=a.field,r=t.filter((function(a){return a[o].toLowerCase().includes(e.currentTarget.value.toLowerCase())}));n.setState({activeSuggestion:0,filteredSuggestions:r,showSuggestions:!0}),n.props.onChange(e)},n.onClick=function(e){var a=n.state,t=a.activeSuggestion,o=a.filteredSuggestions,r=o.filter((function(a){return a.id===Number(e.currentTarget.id)?a:null}));r=r[0],n.setState({activeSuggestion:0,showSuggestions:!1,userInput:o[t]}),n.props.onClick(r)},n.onKeyDown=function(e){var a=n.state,t=a.activeSuggestion,o=a.filteredSuggestions;if(13===e.keyCode)e.preventDefault(),n.setState({activeSuggestion:0,showSuggestions:!1,userInput:o[t]}),n.props.onClick(o[t]);else if(38===e.keyCode){if(0===t)return;n.setState({activeSuggestion:t-1})}else if(40===e.keyCode){if(t-1===o.length)return;n.setState({activeSuggestion:t+1})}else(8===e.keyCode||27===e.keyCode)&&e.currentTarget.value.length<2&&n.setState({activeSuggestion:0,showSuggestions:!1})},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1},n}return Object(me.a)(t,[{key:"render",value:function(){var e,a=this.onChange,t=this.onClick,r=this.onKeyDown,c=this.state,l=c.activeSuggestion,i=c.filteredSuggestions,s=c.showSuggestions,m=this.props,u=m.className,d=m.name,v=m.value,p=m.field,f=m.autoComplete;return s&&(e=i.length?o.a.createElement("ul",{className:"suggestions"},i.map((function(e,a){var n;return a===l&&(n="suggestion-active"),o.a.createElement("li",{className:n,key:a,onClick:t,id:e.id},o.a.createElement("span",{style:{minWidth:"25px",display:"inline-block"}},e.id)," - ",o.a.createElement("span",null,e[p]))}))):o.a.createElement("div",{className:"no-suggestions"},o.a.createElement("em",null,"Nenhuma informa\xe7\xe3o encontrada, verifique os dados informados!"))),o.a.createElement(n.Fragment,null,o.a.createElement("input",{type:"text",onChange:a,onKeyDown:r,value:v,className:u,name:d,autoComplete:f}),e)}}]),t}(n.Component));ve.defaultProps={suggestions:[]};var pe=ve,fe=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=e.listaMenu,m=Object(n.useState)({}),p=Object(v.a)(m,2),f=p[0],E=p[1],h=Object(n.useState)("perfil"),b=Object(v.a)(h,2),g=b[0],N=b[1],O=Object(n.useState)(!1),x=Object(v.a)(O,2),w=x[0],C=x[1],k=Object(s.useToasts)(),S=k.addToast,F=k.removeAllToasts,D=y();Object(n.useEffect)((function(){E(a),F()}),[a,F]),Object(n.useEffect)((function(){C(!1)}),[t]);var M=function(e){g!==e&&N(e)},z=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),C(!0),(t=new se).id=f.id?f.id:0,t.nome=f.nome,t.email=f.email,t.nivel=f.nivel,t.permissoes=f.permissoes,n="",0===Number(t.id)){e.next=15;break}return e.next=12,j.put("/usuarios",t,{headers:{Authorization:"Bearer ".concat(D.token)}});case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,j.post("/usuarios",t,{headers:{Authorization:"Bearer ".concat(D.token)}});case 17:n=e.sent;case 18:n.data.error?(console.error(n.data.error),S("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):S("Usu\xe1rio salvo com sucesso!",{appearance:"success"}),C(!1);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];E(o?Object(G.a)(Object(G.a)({},f),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},f),{},Object(U.a)({},e.target.name,e.target.value)))},B=function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n,o,r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.name.split("."),n=Object(v.a)(t,2),n[0],o=n[1],r=f.permissoes.findIndex((function(e){return e.chEsMenuPermissao===a.target.id})),c=i.filter((function(e){return Number(e.id)===Number(a.target.id)?e:null})),r>=0?(l=f.permissoes.map((function(e){return e.chEsMenuPermissao===a.target.id?Object(G.a)(Object(G.a)({},e),{},Object(U.a)({},o,a.target.checked)):e})),E(Object(G.a)(Object(G.a)({},f),{},{permissoes:l}))):E(Object(G.a)(Object(G.a)({},f),{},{permissoes:[].concat(Object(A.a)(f.permissoes),[Object(U.a)({menuPermissao:c[0].descricao,chEsMenuPermissao:a.target.id,chEsUsuario:f.id},o,a.target.checked)])}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e,a){return f.permissoes.filter((function(t){return Number(t.chEsMenuPermissao)===e.id&&t[a]}))[0]};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===f||void 0===f?void 0:f.nome)?null===f||void 0===f?void 0:f.nome:"Novo Usu\xe1rio"),o.a.createElement(Z.a,{style:{minHeight:"50vh"}},o.a.createElement("div",null,o.a.createElement(ee.a,{tabs:!0},o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:{active:"perfil"===g},onClick:function(){M("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:{active:"permissao"===g},onClick:function(){M("permissao")},style:{cursor:"pointer"}},"Permiss\xe3o"))),o.a.createElement(ne.a,{activeTab:g},o.a.createElement(oe.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(pe,{className:"form-control",id:"nome",name:"nome",suggestions:l,onChange:T,onClick:function(e){return a=e,void E(Object(G.a)(Object(G.a)({},f),{},{nome:a.nome,email:a.contato.email}));var a},value:null===f||void 0===f?void 0:f.nome,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",id:"email",name:"email",type:"email",value:null===f||void 0===f?void 0:f.email,onChange:T}))),o.a.createElement("div",{className:"col-sm-3 col-md-3 col-lg-3 col-xl-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nivel"},"N\xedvel:"),o.a.createElement("select",{className:"custom-select",id:"nivel",name:"nivel",value:f.nivel,onChange:T},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"Admin"},"Admin"),o.a.createElement("option",{value:"Editor"},"Editor"),o.a.createElement("option",{value:"Secret\xe1ria"},"Secret\xe1ria"),o.a.createElement("option",{value:"Tesoureira"},"Tesoureira"))))))),o.a.createElement(oe.a,{tabId:"permissao"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",style:{height:"2vh",marginTop:"2vh"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},"Descri\xe7\xe3o"),o.a.createElement("div",{className:"col-2"},"Visualizar"),o.a.createElement("div",{className:"col-2"},"Editar"),o.a.createElement("div",{className:"col-2"},"Inserir"),o.a.createElement("div",{className:"col-2"},"Remover"))),o.a.createElement("div",{className:"form-group col-md-12 float-left overflow-auto",style:{maxHeight:"40vh"}},o.a.createElement("ul",{className:"list-group bg-transparent"},i.map((function(e,a){return o.a.createElement("li",{key:e.id,className:"list-group-item bg-transparent border-white pl-5"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},e.descricao),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:B,name:"permissoes.visualizar",checked:I(e,"visualizar")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:B,name:"permissoes.alterar",checked:I(e,"alterar")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:B,name:"permissoes.inserir",checked:I(e,"inserir")})),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:B,name:"permissoes.remover",checked:I(e,"remover")}))))})))))))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"submit",color:"success",onClick:z,disabled:w},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:w},"Cancelar"))))},Ee=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)({permissoes:[{}]}),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(0),w=Object(v.a)(x,2),C=w[0],k=w[1],S=Object(n.useState)(!1),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)([]),T=Object(v.a)(z,2),B=T[0],A=T[1],P=Object(n.useState)(""),q=Object(v.a)(P,2),Y=q[0],L=q[1],H=Object(s.useToasts)().addToast,_=y();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/usuarios",{headers:{Authorization:"Bearer ".concat(_.token)}}).then((function(e){r(e.data);var a=e.data.length;k(a)}));case 2:U();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Usu\xe1rios - Cadastro de membros CEM",e()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/usuarios",{headers:{Authorization:"Bearer ".concat(_.token)}}).then((function(e){r(e.data);var a=e.data.length;k(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D]);var U=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/menuPermissao",{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:a=e.sent,O(a.data),G();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/membros",{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:a=e.sent,m(a.data.membros);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/usuarios/"+a,{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:e.sent.data.error?H("N\xe3o foi poss\xedvel remover o usu\xe1rio!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),H("Usu\xe1rio removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({permissoes:[{}]}),M(!D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:C,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));A(a),L(e.target.value)},value:Y,placeholder:"Pesquise por nome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"card overflow-hidden align-items-center"},o.a.createElement(R,{data:Y?B:t,titulo:"Usu\xe1rios",mostrarBotaoNovo:!0,tituloBotao:"Novo Usu\xe1rio",handleShow:J},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"20"}),o.a.createElement(V,{campo:"email",titulo:"E-mail",tamanho:"20"}),o.a.createElement(V,{campo:"nivel",titulo:"Nivel",tamanho:"12"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){h(a),M(!0)},title:"Editar usu\xe1rio"},o.a.createElement("i",{className:"fa fa-gear"})),"\xa0",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return W(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover usu\xe1rio"},o.a.createElement("i",{className:"fa fa-trash"})));var a},tamanho:"10"}))))),o.a.createElement(fe,{className:"modal-lg overflow-hidden",data:E,show:D,handleShow:J,listaMenu:N,membros:i}))},he=function e(){Object(le.a)(this,e),this.explicitType="contato",this.id=0,this.email="",this.telefone="",this.celular=""},be=function e(){Object(le.a)(this,e),this.explicitType="endereco",this.id=0,this.cep="",this.cidade="",this.uf="",this.logradouro="",this.complemento=""},ge=function e(){Object(le.a)(this,e),this.explicitType="Igreja",this.id=0,this.ehBatizado="",this.dataBatismo="",this.igrejaBatizado="",this.ultimoPastor="",this.ultimaIgreja=""},Ne=function e(){Object(le.a)(this,e),this.explicitType="ministerioMembro",this.id=0,this.chEsMembro="",this.chEsMinisterio="",this.checked=!1},je=new function e(){Object(le.a)(this,e),this.id=0,this.chEsConjuge="",this.conjuge="",this.chEsPai="",this.nomePai="",this.chEsMae="",this.nomeMae="",this.filhos=[]},Oe=new he,xe=new be,ye=new ge,we=new Ne,Ce=function e(){Object(le.a)(this,e),this.explicitType="membro",this.id=0,this.nome="",this.identidade="",this.dataNascimento="",this.idade="",this.sexo=0,this.profissao="",this.estadoCivil="",this.ativo="",this.parentes=je,this.contato=Oe,this.endereco=xe,this.igreja=ye,this.ministerios=[we],this.chEsContato="",this.chEsEndereco="",this.chEsIgreja=""},ke=function(e){var a,t,r,c,l,i,m,p,f,E,h,b,g,O,x,C,k,S,F=e.data,D=e.show,M=e.handleShow,z=e.className,T=e.membros,B=e.ministerios,I=Object(n.useState)({ministerios:[]}),P=Object(v.a)(I,2),q=P[0],Y=P[1],L=Object(n.useState)(0),H=Object(v.a)(L,2),_=H[0],W=H[1],J=Object(n.useState)("perfil"),K=Object(v.a)(J,2),Q=K[0],le=K[1],ie=Object(n.useState)(!1),se=Object(v.a)(ie,2),me=se[0],ue=se[1],de=Object(n.useState)([]),ve=Object(v.a)(de,2),fe=ve[0],Ee=ve[1],he=Object(n.useState)(""),be=Object(v.a)(he,2),ge=be[0],Ne=be[1],je=Object(s.useToasts)(),Oe=je.addToast,xe=je.removeAllToasts,ye=y();Object(n.useEffect)((function(){W(F),xe()}),[F]),Object(n.useEffect)((function(){_>0?function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_>0)){e.next=6;break}return e.next=3,j.get("/membros/"+_,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={ministerios:[]};case 7:a=e.t0,Y(a.data),Ee(a.data.parentes.filhos);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():De()}),[_]);var we=function(e){Q!==e&&le(e)},ke=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n,o,r,c,l,i,s,m,d,v,p,f,E,h,b,g,N,O,x,y,w,C,k;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C="",ue(!0),(k=new Ce).id=(null===q||void 0===q?void 0:q.id)?null===q||void 0===q?void 0:q.id:0,k.nome=null===q||void 0===q?void 0:q.nome,k.identidade=null===q||void 0===q?void 0:q.identidade,k.dataNascimento=null===q||void 0===q?void 0:q.dataNascimento,k.dataCasamento=null===q||void 0===q?void 0:q.dataCasamento,k.sexo=null===q||void 0===q?void 0:q.sexo,k.profissao=null===q||void 0===q?void 0:q.profissao,k.estadoCivil=null===q||void 0===q?void 0:q.estadoCivil,k.chEsConjuge=null===q||void 0===q?void 0:q.chEsConjuge,k.conjuge=null===q||void 0===q?void 0:q.conjuge,k.ativo=0,k.contato.id=null===q||void 0===q||null===(a=q.contato)||void 0===a?void 0:a.id,k.contato.email=null===q||void 0===q||null===(t=q.contato)||void 0===t?void 0:t.email,k.contato.telefone=null===q||void 0===q||null===(n=q.contato)||void 0===n?void 0:n.telefone,k.contato.celular=null===q||void 0===q||null===(o=q.contato)||void 0===o?void 0:o.celular,k.endereco.id=null===q||void 0===q||null===(r=q.endereco)||void 0===r?void 0:r.id,k.endereco.cep=null===q||void 0===q||null===(c=q.endereco)||void 0===c?void 0:c.cep,k.endereco.cidade=null===q||void 0===q||null===(l=q.endereco)||void 0===l?void 0:l.cidade,k.endereco.uf=null===q||void 0===q||null===(i=q.endereco)||void 0===i?void 0:i.uf,k.endereco.logradouro=null===q||void 0===q||null===(s=q.endereco)||void 0===s?void 0:s.logradouro,k.endereco.numero=null===q||void 0===q||null===(m=q.endereco)||void 0===m?void 0:m.numero,k.endereco.complemento=null===q||void 0===q||null===(d=q.endereco)||void 0===d?void 0:d.complemento,k.parentes.chEsConjuge=null===q||void 0===q||null===(v=q.parentes)||void 0===v?void 0:v.chEsConjuge,k.parentes.conjuge=null===q||void 0===q||null===(p=q.parentes)||void 0===p?void 0:p.conjuge,k.parentes.chEsPai=null===q||void 0===q||null===(f=q.parentes)||void 0===f?void 0:f.chEsPai,k.parentes.nomePai=null===q||void 0===q||null===(E=q.parentes)||void 0===E?void 0:E.nomePai,k.parentes.chEsMae=null===q||void 0===q||null===(h=q.parentes)||void 0===h?void 0:h.chEsMae,k.parentes.nomeMae=null===q||void 0===q||null===(b=q.parentes)||void 0===b?void 0:b.nomeMae,k.parentes.filhos=fe,k.igreja.id=null===q||void 0===q||null===(g=q.igreja)||void 0===g?void 0:g.id,k.igreja.ehBatizado=null===q||void 0===q||null===(N=q.igreja)||void 0===N?void 0:N.ehBatizado,k.igreja.dataBatismo=null===q||void 0===q||null===(O=q.igreja)||void 0===O?void 0:O.dataBatismo,k.igreja.igrejaBatizado=null===q||void 0===q||null===(x=q.igreja)||void 0===x?void 0:x.igrejaBatizado,k.igreja.ultimoPastor=null===q||void 0===q||null===(y=q.igreja)||void 0===y?void 0:y.ultimoPastor,k.igreja.ultimaIgreja=null===q||void 0===q||null===(w=q.igreja)||void 0===w?void 0:w.ultimaIgreja,k.ministerios=null===q||void 0===q?void 0:q.ministerios,0===Number(k.id)){e.next=45;break}return e.next=42,j.put("/membros",k,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 42:C=e.sent,e.next=48;break;case 45:return e.next=47,j.post("/membros",k,{headers:{Authorization:"Bearer ".concat(ye.token)}});case 47:C=e.sent;case 48:C.data.error?(console.error(C.data.error),Oe("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):(Oe("Membro salvo com sucesso!",{appearance:"success"}),De(),Ee([])),ue(!1);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];Y(o?Object(G.a)(Object(G.a)({},q),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},q[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},q),{},Object(U.a)({},e.target.name,e.target.value)))},Fe=function(e,a,t){var n,o="nomeConjuge"===t?e.dataCasamento:null===q||void 0===q?void 0:q.dataCasamento;Y(Object(G.a)(Object(G.a)({},q),{},{parentes:Object(G.a)(Object(G.a)({},null===q||void 0===q?void 0:q.parentes),{},(n={},Object(U.a)(n,a,e.id),Object(U.a)(n,t,e.nome),n)),dataCasamento:o}))},De=function(){Y({id:"",nome:"",dataCasamento:"",dataNascimento:"",identidade:"",sexo:"",estadoCivil:"",profissao:"",contato:{email:"",celular:"",telefone:""},endereco:{cep:"",logradouro:"",numero:"",complemento:"",cidade:"",uf:""},parentes:{chEsConjuge:"",nomeConjuge:"",chEsPai:"",nomePai:"",chEsMae:"",nomeMae:"",filhos:[]},igreja:{ehBatizado:"",dataBatismo:"",igrejaBatizado:"",ultimoPastor:"",ultimaIgreja:""},ministerios:[]})},Me=function(e){var a=e.id?e.id:e.chEsFilho;if(fe.findIndex((function(e){return e.chEsFilho===a}))>=0){var t=fe.filter((function(e){return e.chEsFilho!==a}));Ee(t)}else Ee([].concat(Object(A.a)(fe),[{chEsFilho:e.id,nome:e.nome,email:e.contato.email,telefone:e.contato.telefone,celular:e.contato.celular}]));Ne("")},ze=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===q||void 0===q?void 0:q.ministerios.findIndex((function(e){return e.chEsMinisterio===a.id})))>=0?(t=null===q||void 0===q?void 0:q.ministerios.filter((function(e){return e.chEsMinisterio!==a.id})),Y(Object(G.a)(Object(G.a)({},q),{},{ministerios:t}))):Y(Object(G.a)(Object(G.a)({},q),{},{ministerios:[].concat(Object(A.a)(q.ministerios),[{chEsMinisterio:a.id,checked:!0}])}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://viacep.com.br/ws/"+a.target.value+"/json/");case 2:t=(t=e.sent).data,Y(Object(G.a)(Object(G.a)({},q),{},{endereco:Object(G.a)(Object(G.a)({},null===q||void 0===q?void 0:q.endereco),{},{logradouro:t.logradouro,cidade:t.localidade,uf:t.uf})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:D,toggle:M,className:z},o.a.createElement(X.a,{toggle:M},(null===q||void 0===q?void 0:q.id)?"#".concat(q.id," - ")+(null===q||void 0===q?void 0:q.nome):"Novo Membro"),o.a.createElement(Z.a,null,o.a.createElement("div",null,o.a.createElement(ee.a,{tabs:!0},o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"perfil"===Q?"active":"",onClick:function(){we("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"contato"===Q?"active":"",onClick:function(){we("contato")},style:{cursor:"pointer"}},"Contato")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"endereco"===Q?"active":"",onClick:function(){we("endereco")},style:{cursor:"pointer"}},"Endere\xe7o")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"parentes"===Q?"active":"",onClick:function(){we("parentes")},style:{cursor:"pointer"}},"Familia")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"igreja"===Q?"active":"",onClick:function(){we("igreja")},style:{cursor:"pointer"}},"Dados Igreja")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:"ministerio"===Q?"active":"",onClick:function(){we("ministerio")},style:{cursor:"pointer"}},"Minist\xe9rio"))),o.a.createElement(ne.a,{activeTab:Q},o.a.createElement(oe.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-10 col-md-10 col-lg-10 col-xl-10"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(pe,{className:"form-control",id:"nome",name:"nome",suggestions:T,onChange:function(e){""===e.target.value?De():Y(Object(G.a)(Object(G.a)({},q),{},Object(U.a)({},e.target.name,e.target.value)))},onClick:function(e){return function(e){W(e.id)}(e)},value:null===q||void 0===q?void 0:q.nome,field:"nome",autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"sexo"},"Sexo:"),o.a.createElement("select",{className:"custom-select",id:"sexo",name:"sexo",value:null===q||void 0===q?void 0:q.sexo,onChange:Se},o.a.createElement("option",{value:"0"},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataNascimento"},"Data de Nascimento:"),o.a.createElement("input",{className:"form-control",id:"dataNascimento",name:"dataNascimento",type:"date",value:w.converteData(null===q||void 0===q?void 0:q.dataNascimento,"YYYY-MM-DD"),onChange:Se}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"estadoCivil"},"Estado Civil:"),o.a.createElement("select",{className:"custom-select",id:"estadoCivil",name:"estadoCivil",value:null===q||void 0===q?void 0:q.estadoCivil,onChange:Se},o.a.createElement("option",{value:"0"},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"indentidade"},"Identidade:"),o.a.createElement("input",{className:"form-control",id:"indentidade",name:"identidade",type:"text",value:null===q||void 0===q?void 0:q.identidade,onChange:Se}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"profissao"},"Profiss\xe3o:"),o.a.createElement("input",{className:"form-control",id:"profissao",name:"profissao",type:"text",value:null===q||void 0===q?void 0:q.profissao,onChange:Se})))))),o.a.createElement(oe.a,{tabId:"contato"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",id:"email",name:"contato.email",type:"email",value:null===q||void 0===q||null===(a=q.contato)||void 0===a?void 0:a.email,onChange:Se}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{className:"form-control",id:"telefone",name:"contato.telefone",type:"text",value:null===q||void 0===q||null===(t=q.contato)||void 0===t?void 0:t.telefone,onChange:Se}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{className:"form-control",id:"celular",name:"contato.celular",type:"text",value:null===q||void 0===q||null===(r=q.contato)||void 0===r?void 0:r.celular,onChange:Se})))))),o.a.createElement(oe.a,{tabId:"endereco"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("label",{htmlFor:"cep"},"CEP:"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-map-marker"}))),o.a.createElement("input",{type:"text",className:"form-control",id:"cep",name:"endereco.cep",onChange:Se,value:null===q||void 0===q||null===(c=q.endereco)||void 0===c?void 0:c.cep,onBlur:Te}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"}),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"logradouro"},"Endere\xe7o:"),o.a.createElement("input",{className:"form-control",id:"logradouro",name:"endereco.logradouro",type:"text",value:null===q||void 0===q||null===(l=q.endereco)||void 0===l?void 0:l.logradouro,onChange:Se}))),o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"numero"},"N\xfamero:"),o.a.createElement("input",{className:"form-control",id:"numero",name:"endereco.numero",type:"text",value:null===q||void 0===q||null===(i=q.endereco)||void 0===i?void 0:i.numero,onChange:Se}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"complemento"},"Complemento:"),o.a.createElement("input",{onChange:Se,value:null===q||void 0===q||null===(m=q.endereco)||void 0===m?void 0:m.complemento,className:"form-control",id:"complemento",name:"endereco.complemento",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"cidade"},"Cidade:"),o.a.createElement("input",{className:"form-control",id:"cidade",name:"endereco.cidade",type:"text",value:null===q||void 0===q||null===(p=q.endereco)||void 0===p?void 0:p.cidade,onChange:Se}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"uf"},"Estado:"),o.a.createElement("input",{className:"form-control",id:"uf",name:"endereco.uf",type:"text",value:null===q||void 0===q||null===(f=q.endereco)||void 0===f?void 0:f.uf,onChange:Se})))))),o.a.createElement(oe.a,{tabId:"parentes"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomeConjuge"},"Nome do C\xf4njuge:"),o.a.createElement(pe,{className:"form-control",id:"nomeConjuge",name:"parentes.nomeConjuge",suggestions:T,onChange:Se,onClick:function(e){return Fe(e,"chEsConjuge","nomeConjuge")},value:null===q||void 0===q||null===(E=q.parentes)||void 0===E?void 0:E.nomeConjuge,field:"nome"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataCasamento"},"Data de Casamento:"),o.a.createElement("input",{className:"form-control",id:"dataCasamento",name:"dataCasamento",type:"date",value:w.converteData(null===q||void 0===q?void 0:q.dataCasamento,"YYYY-MM-DD"),onChange:Se}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomePai"},"Nome do Pai:"),o.a.createElement(pe,{className:"form-control",id:"nomePai",name:"parentes.nomePai",suggestions:T,onChange:Se,onClick:function(e){return Fe(e,"chEsPai","nomePai")},value:null===q||void 0===q||null===(h=q.parentes)||void 0===h?void 0:h.nomePai,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nomeMae"},"Nome da M\xe3e:"),o.a.createElement(pe,{className:"form-control",id:"nomeMae",name:"parentes.nomeMae",suggestions:T,onChange:Se,onClick:function(e){return Fe(e,"chEsMae","nomeMae")},value:null===q||void 0===q||null===(b=q.parentes)||void 0===b?void 0:b.nomeMae,field:"nome"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"filhos"},"Filhos:"),o.a.createElement(pe,{className:"form-control",id:"filhos",suggestions:T,onClick:function(e){return Me(e)},onChange:function(e){Ne(e.target.value)},field:"nome",value:ge}))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement(R,{data:fe},o.a.createElement(V,{titulo:"Nome",campo:"nome",tamanho:"12"}),o.a.createElement(V,{titulo:"E-mail",campo:"email",tamanho:"12"}),o.a.createElement(V,{titulo:"Celular",campo:"celular",tamanho:"8"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",campo:"id",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.chEsFilho+"remover",type:"button",onClick:function(){return Me(e)},value:e.chEsFilho,className:"btn btn-danger btn-xs",title:"Remover filho"},o.a.createElement("i",{className:"fa fa-trash"})))}(e)},tamanho:"5"}))))))),o.a.createElement(oe.a,{tabId:"igreja"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 col-xl-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\xc9 Batizado?"),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{type:"radio",className:"custom-control-input",id:"ehBatizadoSim",name:"igreja.ehBatizado",value:"0",onChange:Se,autoComplete:"off",checked:0===Number(null===q||void 0===q||null===(g=q.igreja)||void 0===g?void 0:g.ehBatizado)}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehBatizadoSim"},"Sim")),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{type:"radio",className:"custom-control-input",id:"ehBatizadoNao",name:"igreja.ehBatizado",value:"1",onChange:Se,autoComplete:"off",checked:1===Number(null===q||void 0===q||null===(O=q.igreja)||void 0===O?void 0:O.ehBatizado)}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehBatizadoNao"},"N\xe3o")))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4 col-xl-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dataBatismo"},"Data do Batismo:"),o.a.createElement("input",{className:"form-control",id:"dataBatismo",name:"igreja.dataBatismo",type:"date",value:null===q||void 0===q||null===(x=q.igreja)||void 0===x?void 0:x.dataBatismo,onChange:Se,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"igrejaBatizado"},"Igreja Batizado:"),o.a.createElement("input",{className:"form-control",id:"igrejaBatizado",name:"igreja.igrejaBatizado",type:"text",value:null===q||void 0===q||null===(C=q.igreja)||void 0===C?void 0:C.igrejaBatizado,onChange:Se,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ultimoPastor"},"Ultimo Pastor:"),o.a.createElement("input",{className:"form-control",id:"ultimoPastor",name:"igreja.ultimoPastor",type:"text",value:null===q||void 0===q||null===(k=q.igreja)||void 0===k?void 0:k.ultimoPastor,onChange:Se,autoComplete:"off"}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"ultimaIgreja"},"Ultima Igreja:"),o.a.createElement("input",{className:"form-control",id:"ultimaIgreja",name:"igreja.ultimaIgreja",type:"text",value:null===q||void 0===q||null===(S=q.igreja)||void 0===S?void 0:S.ultimaIgreja,onChange:Se,autoComplete:"off"})))))),o.a.createElement(oe.a,{tabId:"ministerio"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",style:{height:"2vh",marginTop:"2vh"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},"Descri\xe7\xe3o"),o.a.createElement("div",{className:"col-2"},"Faz parte?"))),o.a.createElement("div",{className:"form-group col-md-12 float-left overflow-auto",style:{maxHeight:"40vh"}},o.a.createElement("ul",{className:"list-group bg-transparent"},B.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{key:e.id,className:"list-group-item bg-transparent border-white pl-2"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},e.nome),o.a.createElement("div",{className:"col-2 text-center"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",value:e.id,id:e.id,onChange:function(){return ze(e)},name:"permissoes.visualizar",checked:(a=e,((null===q||void 0===q?void 0:q.ministerios)?q.ministerios.filter((function(e){return Number(null===e||void 0===e?void 0:e.chEsMinisterio)===a.id&&e.checked})):[!1])[0])})))));var a})))))))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return ke()},disabled:me},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:q.id>0?De:M,disabled:me},q.id>0?"Limpar":"Cancelar"))))},Se=function(e){var a=e.show,t=e.handleShow,r=e.ministerios,c=Object(n.useState)(!1),i=Object(v.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(v.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(""),h=Object(v.a)(E,2),b=h[0],g=h[1],N=Object(n.useState)(""),j=Object(v.a)(N,2),O=j[0],x=j[1],y=Object(n.useState)(""),w=Object(v.a)(y,2),C=w[0],k=w[1],S=Object(n.useState)(""),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)("/relatorios/membro"),T=Object(v.a)(z,2),B=T[0],I=T[1];Object(n.useEffect)((function(){document.title="Relat\xf3rio de Membros - Cadastro de membros CEM"}),[]),Object(n.useEffect)((function(){A()}),[s,b,p,O,C,D]);var A=function(){var e={};s&&(e.aniversariante=s),s||""===p||(e.dataInicio=p),s||""===b||(e.dataFim=b),O&&(e.ministerio=O),C&&(e.sexo=C),D&&(e.estadoCivil=D),I("/relatorios/membro?"+Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&"))};return o.a.createElement($.a,{isOpen:a,toggle:t,className:"modal-lg"},o.a.createElement(X.a,{toggle:t},"Relat\xf3rio de Membros"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 h3"},"Data de Nascimento:"),o.a.createElement("div",{className:"custom-control custom-checkbox col-md-8 h5"},o.a.createElement("input",{className:"custom-control-input",name:"aniversariante",id:"aniversariante",type:"checkbox",onChange:function(){m(!s)},checked:s}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"aniversariante"},"Aniversariantes do M\xeas")),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"De:"),o.a.createElement("input",{className:"form-control",name:"dataInicio",id:"dataInicio",type:"date",onChange:function(e){return f(e.target.value)},disabled:s,value:p})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"At\xe9:"),o.a.createElement("input",{className:"form-control",name:"dataFim",id:"dataFim",type:"date",onChange:function(e){return g(e.target.value)},disabled:s,value:b})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"col-md-12 h3"},"Minist\xe9rio:"),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("select",{name:"ministerio",className:"form-control",onChange:function(e){return x(e.target.value)},value:O},o.a.createElement("option",{value:""},"Escolha..."),r.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),o.a.createElement("div",{className:"col-md-12 h3"},"Sexo:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{className:"form-control",name:"sexo",onChange:function(e){return k(e.target.value)},value:C},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher"))),o.a.createElement("div",{className:"col-md-12 h3"},"Estado Civil:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{name:"estadoCivil",className:"form-control",onChange:function(e){return M(e.target.value)},value:D},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)"))))),o.a.createElement(re.a,null,o.a.createElement(l.b,{to:"".concat(B),target:"_blank",className:"btn btn-success"},"Gerar Relat\xf3rio"),o.a.createElement(ce.a,{type:"button",color:"danger",onClick:t},"Cancelar")))},Fe=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)([]),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(0),w=Object(v.a)(x,2),C=w[0],k=w[1],S=Object(n.useState)(0),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)(0),T=Object(v.a)(z,2),B=T[0],A=T[1],P=Object(n.useState)(!1),q=Object(v.a)(P,2),Y=q[0],L=q[1],H=Object(n.useState)(!1),_=Object(v.a)(H,2),U=_[0],G=_[1],W=Object(n.useState)(""),J=Object(v.a)(W,2),K=J[0],Q=J[1],$=Object(s.useToasts)().addToast,X=y();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/membros",{headers:{Authorization:"Bearer ".concat(X.token)}});case 2:return a=e.sent,k(a.data.quantidadeAtivos),A(a.data.quantidadeBatizados),M(a.data.quantidadeNovos),r(a.data.membros),e.next=9,Z();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.title="Membros - Cadastro de membros CEM",e()}),[]),Object(n.useEffect)((function(){Y||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/membros",{headers:{Authorization:"Bearer ".concat(X.token)}});case 2:a=e.sent,k(a.data.quantidadeAtivos),A(a.data.quantidadeBatizados),M(a.data.quantidadeNovos),r(a.data.membros),h(a.data.membros);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[Y]);var Z=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/ministerios",{headers:{Authorization:"Bearer ".concat(X.token)}});case 2:a=e.sent,O(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/membros/"+a,{headers:{Authorization:"Bearer ".concat(X.token)}});case 2:e.sent.data.error?$("N\xe3o foi poss\xedvel remover o membro!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),$("Membro removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ae=function(e){"Escape"!==(null===e||void 0===e?void 0:e.key)&&(m(),L(!Y))},te=function(){G(!U)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:C,titulo:"Ativos"}),o.a.createElement(I,{corFundo:"success",icone:"check-circle",quantidade:D,titulo:"Novos"}),o.a.createElement(I,{corFundo:"danger",icone:"heart",quantidade:B,titulo:"Batizados"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));h(a),Q(e.target.value)},value:K,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:K?E:t,titulo:"Membros",mostrarBotaoNovo:!0,mostrarBotaoRelatorio:!0,tituloBotao:"Novo Membro",handleShow:ae,handleShowRelatorio:te,limiteItems:20},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"20"}),o.a.createElement(V,{campo:"contato.email",titulo:"E-mail",tamanho:"20"}),o.a.createElement(V,{campo:"contato.telefone",titulo:"Telefone",tamanho:"12"}),o.a.createElement(V,{campo:"contato.celular",titulo:"Celular",tamanho:"12"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a.id),L(!0)},title:"Editar membro"},o.a.createElement("i",{className:"fa fa-gear"})),"\xa0",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return ee(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover membro"},o.a.createElement("i",{className:"fa fa-trash"})));var a},tamanho:"5"}))))),o.a.createElement(ke,{className:"modal-lg",data:i,show:Y,handleShow:ae,membros:t,ministerios:N}),o.a.createElement(Se,{show:U,handleShow:te,ministerios:N}))},De=new he,Me=new be,ze=function e(){Object(le.a)(this,e),this.explicitType="visitante",this.id=0,this.nome="",this.querVisita="",this.dataVisita="",this.dataCadastro="",this.religiao="",this.contato=De,this.endereco=Me},Te=function(e){var a,t,r,c,l,i,m,p,f,E=e.data,h=e.show,b=e.handleShow,g=e.className,O=Object(n.useState)({}),x=Object(v.a)(O,2),C=x[0],k=x[1],S=Object(n.useState)("perfil"),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)(!1),T=Object(v.a)(z,2),B=T[0],I=T[1],A=Object(s.useToasts)(),P=A.addToast,q=A.removeAllToasts,Y=y();Object(n.useEffect)((function(){k(E),q()}),[E]);var R=function(e){D!==e&&M(e)},V=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n,o,r,c,l,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="",I(!0),(s=new ze).id=C.id?C.id:0,s.nome=C.nome,s.dataVisita=C.dataVisita,s.dataCadastro=C.dataCadastro,s.querVisita=C.querVisita,s.religiao=C.religiao,s.contato.id=C.contato.id,s.contato.email=C.contato.email,s.contato.telefone=C.contato.telefone,s.contato.celular=C.contato.celular,s.endereco.id=null===(a=C.endereco)||void 0===a?void 0:a.id,s.endereco.cep=null===C||void 0===C||null===(t=C.endereco)||void 0===t?void 0:t.cep,s.endereco.logradouro=null===C||void 0===C||null===(n=C.endereco)||void 0===n?void 0:n.logradouro,s.endereco.numero=null===C||void 0===C||null===(o=C.endereco)||void 0===o?void 0:o.numero,s.endereco.complemento=null===C||void 0===C||null===(r=C.endereco)||void 0===r?void 0:r.complemento,s.endereco.cidade=null===C||void 0===C||null===(c=C.endereco)||void 0===c?void 0:c.cidade,s.endereco.uf=null===C||void 0===C||null===(l=C.endereco)||void 0===l?void 0:l.uf,0===Number(s.id)){e.next=26;break}return e.next=23,j.put("/visitantes",s,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 23:i=e.sent,e.next=29;break;case 26:return e.next=28,j.post("/visitantes",s,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 28:i=e.sent;case 29:i.data.error?(console.error(i.data.error),P("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):P("Visitante salvo com sucesso!",{appearance:"success"}),I(!1);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];k(o?Object(G.a)(Object(G.a)({},C),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},C[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},C),{},Object(U.a)({},e.target.name,e.target.value)))},H=function(){var e=Object(d.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://viacep.com.br/ws/"+a.target.value+"/json/");case 2:t=(t=e.sent).data,k(Object(G.a)(Object(G.a)({},C),{},{endereco:Object(G.a)(Object(G.a)({},C.endereco),{},{logradouro:t.logradouro,cidade:t.localidade,uf:t.uf})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:h,toggle:b,className:g},o.a.createElement(X.a,{toggle:b},(null===C||void 0===C?void 0:C.id)?"#".concat(C.id," - ").concat(null===C||void 0===C?void 0:C.nome):"Novo Visitante"),o.a.createElement(Z.a,null,o.a.createElement("div",null,o.a.createElement(ee.a,{tabs:!0},o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:{active:"perfil"===D},onClick:function(){R("perfil")},style:{cursor:"pointer"}},"Perfil")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:{active:"contato"===D},onClick:function(){R("contato")},style:{cursor:"pointer"}},"Contato")),o.a.createElement(ae.a,null,o.a.createElement(te.a,{className:{active:"endereco"===D},onClick:function(){R("endereco")},style:{cursor:"pointer"}},"Endere\xe7o"))),o.a.createElement(ne.a,{activeTab:D},o.a.createElement(oe.a,{tabId:"perfil"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{onChange:L,value:C.nome,className:"form-control",id:"nome",name:"nome",type:"text",required:!0})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("label",null,"Deseja uma visita?"),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{onChange:L,value:"0",type:"radio",className:"custom-control-input",id:"querVisitaSim",name:"querVisita",checked:0===C.querVisita?"checked":null}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"querVisitaSim"},"Sim")),o.a.createElement("div",{className:"custom-control custom-radio"},o.a.createElement("input",{onChange:L,value:"1",type:"radio",className:"custom-control-input",id:"querVisitaNao",name:"querVisita",checked:1===C.querVisita?"checked":null}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"querVisitaNao"},"N\xe3o"))),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataVisita"},"Data de Visita:"),o.a.createElement("input",{onChange:L,value:w.converteData(C.dataVisita,"YYYY-MM-DD"),className:"form-control",id:"dataVisita",name:"dataVisita",type:"date"})),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("label",{htmlFor:"religiao"},"Religi\xe3o:"),o.a.createElement("input",{onChange:L,value:C.religiao,className:"form-control",id:"religiao",name:"religiao",type:"text"}))))),o.a.createElement(oe.a,{tabId:"contato"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(a=C.contato)||void 0===a?void 0:a.email,className:"form-control",id:"email",name:"contato.email",type:"email"})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(t=C.contato)||void 0===t?void 0:t.telefone,className:"form-control",id:"telefone",name:"contato.telefone",type:"text"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(r=C.contato)||void 0===r?void 0:r.celular,className:"form-control",id:"celular",name:"contato.celular",type:"text"}))))),o.a.createElement(oe.a,{tabId:"endereco"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("label",{htmlFor:"cep"},"CEP:"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-map-marker"}))),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(c=C.endereco)||void 0===c?void 0:c.cep,type:"text",className:"form-control",id:"cep",name:"endereco.cep",onBlur:H}))),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"}),o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"logradouro"},"Endere\xe7o:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(l=C.endereco)||void 0===l?void 0:l.logradouro,className:"form-control",id:"logradouro",name:"endereco.logradouro",type:"text"}))),o.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"numero"},"N\xfamero:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(i=C.endereco)||void 0===i?void 0:i.numero,className:"form-control",id:"numero",name:"endereco.numero",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"complemento"},"Complemento:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(m=C.endereco)||void 0===m?void 0:m.complemento,className:"form-control",id:"complemento",name:"endereco.complemento",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"cidade"},"Cidade:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(p=C.endereco)||void 0===p?void 0:p.cidade,className:"form-control",id:"cidade",name:"endereco.cidade",type:"text"}))),o.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"uf"},"Estado:"),o.a.createElement("input",{onChange:L,value:null===C||void 0===C||null===(f=C.endereco)||void 0===f?void 0:f.uf,className:"form-control",id:"uf",name:"endereco.uf",type:"text"}))))))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"submit",color:"success",onClick:function(){return V()},disabled:B},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:b,disabled:B},"Cancelar"))))},Be=function(e){var a=e.show,t=e.handleShow,r=Object(n.useState)(!1),c=Object(v.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(""),u=Object(v.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(""),E=Object(v.a)(f,2),h=E[0],b=E[1],g=Object(n.useState)(""),N=Object(v.a)(g,2),j=N[0],O=N[1],x=Object(n.useState)(""),y=Object(v.a)(x,2),w=y[0],C=y[1],k=Object(n.useState)("/relatorios/membro"),S=Object(v.a)(k,2),F=S[0],D=S[1];Object(n.useEffect)((function(){document.title="Relat\xf3rio de Visitantes - Cadastro de membros CEM"}),[]),Object(n.useEffect)((function(){M()}),[i,h,d,j,w]);var M=function(){var e={};i&&(e.aniversariante=i),i||""===d||(e.dataInicio=d),i||""===h||(e.dataFim=h),j&&(e.sexo=j),w&&(e.estadoCivil=w),D("/relatorios/membro?"+Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&"))};return o.a.createElement($.a,{isOpen:a,toggle:t,className:"modal-lg"},o.a.createElement(X.a,{toggle:t},"Relat\xf3rio de Membros"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 h3"},"Data de Nascimento:"),o.a.createElement("div",{className:"custom-control custom-checkbox col-md-8 h5"},o.a.createElement("input",{className:"custom-control-input",name:"aniversariante",id:"aniversariante",type:"checkbox",onChange:function(){s(!i)},checked:i}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"aniversariante"},"Aniversariantes do M\xeas")),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"De:"),o.a.createElement("input",{className:"form-control",name:"dataInicio",id:"dataInicio",type:"date",onChange:function(e){return p(e.target.value)},disabled:i,value:d})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"At\xe9:"),o.a.createElement("input",{className:"form-control",name:"dataFim",id:"dataFim",type:"date",onChange:function(e){return b(e.target.value)},disabled:i,value:h})),o.a.createElement("div",{className:"col-md-12 h3"},"Sexo:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{className:"form-control",name:"sexo",onChange:function(e){return O(e.target.value)},value:j},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Homem"),o.a.createElement("option",{value:"2"},"Mulher"))),o.a.createElement("div",{className:"col-md-12 h3"},"Estado Civil:"),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("select",{name:"estadoCivil",className:"form-control",onChange:function(e){return C(e.target.value)},value:w},o.a.createElement("option",{value:""},"Escolha..."),o.a.createElement("option",{value:"1"},"Solteiro(a)"),o.a.createElement("option",{value:"2"},"Casado(a)"),o.a.createElement("option",{value:"3"},"Divorciado(a)"),o.a.createElement("option",{value:"4"},"Vi\xfavo(a)"),o.a.createElement("option",{value:"5"},"Separado(a)"))))),o.a.createElement(re.a,null,o.a.createElement(l.b,{to:"".concat(F),target:"_blank",className:"btn btn-success"},"Gerar Relat\xf3rio"),o.a.createElement(ce.a,{type:"button",color:"danger",onClick:t},"Cancelar")))},Ie=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)({}),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(""),w=Object(v.a)(x,2),C=w[0],k=w[1],S=Object(n.useState)(!1),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)(!1),T=Object(v.a)(z,2),B=T[0],A=T[1],P=Object(s.useToasts)().addToast,q=y();Object(n.useEffect)((function(){document.title="Visitantes - Cadastro de membros CEM",function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/visitantes",{headers:{Authorization:"Bearer ".concat(q.token)}});case 2:a=e.sent,r(a.data),m(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){D||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/visitantes",{headers:{Authorization:"Bearer ".concat(q.token)}});case 2:a=e.sent,r(a.data),O(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[D]);var Y=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/visitantes/"+a,{headers:{Authorization:"Bearer ".concat(q.token)}});case 2:e.sent.data.error?P("N\xe3o foi poss\xedvel remover o visitante!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),P("Visitante removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){h({}),M(!D)},H=function(){A(!B)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:i,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));O(a),k(e.target.value)},value:C,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:C?N:t,titulo:"Visitantes",mostrarBotaoNovo:!0,tituloBotao:"Novo Visitante",handleShow:L,handleShowRelatorio:H},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(V,{campo:"contato.email",titulo:"E-mail",tamanho:"15"}),o.a.createElement(V,{campo:"contato.telefone",titulo:"Telefone",tamanho:"10"}),o.a.createElement(V,{campo:"contato.celular",titulo:"Celular",tamanho:"10"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){h(a),M(!0)},title:"Editar membro"},o.a.createElement("i",{className:"fa fa-gear"}))," ",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return Y(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover membro"},o.a.createElement("i",{className:"fa fa-trash"})));var a},tamanho:"5"}))))),o.a.createElement(Te,{className:"modal-lg",data:E,show:D,handleShow:L}),o.a.createElement(Be,{show:B,handleShow:H}))},Ae=function e(){Object(le.a)(this,e),this.explicitType="ministerio",this.id=0,this.nome="",this.descricao=""},Pe=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(v.a)(l,2),m=i[0],p=i[1],f=Object(n.useState)(!1),E=Object(v.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,O=g.removeAllToasts,x=y();Object(n.useEffect)((function(){console.log(a),p(a),O()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var w=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new Ae).id=m.id?m.id:0,t.nome=m.nome,t.descricao=m.descricao,0===Number(t.id)){e.next=12;break}return e.next=9,j.put("/ministerios",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,j.post("/ministerios",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 14:a=e.sent;case 15:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Ministerio salvo com sucesso!",{appearance:"success"}),b(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){p(Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"#".concat(m.id," - ").concat(null===m||void 0===m?void 0:m.nome):"Novo Ministerio"),o.a.createElement(Z.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement("input",{className:"form-control",id:"nome",name:"nome",type:"text",value:m.nome,required:!0,onChange:C})),o.a.createElement("div",{className:"col-md-6"}),o.a.createElement("div",{className:"form-group col-md-8"},o.a.createElement("label",{htmlFor:"descricao"},"Descri\xe7\xe3o:"),o.a.createElement("textarea",{className:"form-control",name:"descricao",id:"descricao",value:m.descricao,rows:"10",onChange:C}))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return w()},disabled:h},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},qe=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)(0),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(""),w=Object(v.a)(x,2),C=w[0],k=w[1],S=Object(n.useState)([]),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(s.useToasts)().addToast,T=y();Object(n.useEffect)((function(){N||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Ministerios - Cadastro de membros CEM",e.next=3,j.get("/ministerios",{headers:{Authorization:"Bearer ".concat(T.token)}});case 3:a=e.sent,r(a.data),h(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[N]);var B=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/ministerios/"+a,{headers:{Authorization:"Bearer ".concat(T.token)}});case 2:e.sent.data.error?z("N\xe3o foi poss\xedvel remover o ministerio!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),z("Ministerio removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){m({}),O(!N)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));M(a),k(e.target.value)},value:C,placeholder:"Pesquise por minist\xe9rio"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:C?D:t,titulo:"Minist\xe9rios",mostrarBotaoNovo:!0,tituloBotao:"Novo Minist\xe9rio",handleShow:A},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(V,{campo:"descricao",titulo:"Descri\xe7\xe3o",tamanho:"50"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a),O(!0)},title:"Editar ministerio"},o.a.createElement("i",{className:"fa fa-gear"})),"\xa0",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return B(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover ministerio"},o.a.createElement("i",{className:"fa fa-trash"})));var a},tamanho:"5"}))))),o.a.createElement(Pe,{className:"modal-lg",data:i,show:N,handleShow:A}))},Ye=function e(){Object(le.a)(this,e),this.explicitType="evento",this.id=0,this.titulo="",this.tipo="",this.status="",this.repete=!1,this.diaSemana="",this.frequencia="",this.valor="",this.ehPago="",this.dataInicio="",this.dataFim="",this.horaInicio="",this.horaFim=""},Re=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(v.a)(l,2),m=i[0],p=i[1],f=Object(n.useState)(!1),E=Object(v.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,O=g.removeAllToasts,x=y();Object(n.useEffect)((function(){p(a),O()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var C=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new Ye).id=m.id?m.id:0,t.titulo=m.titulo,t.tipo=m.tipo,t.status=m.status,t.repete=m.repete,t.diaSemana=m.diaSemana,t.frequencia=m.frequencia,t.valor=(m.valor/100).toFixed(2),t.ehPago=m.ehPago,t.dataInicio=m.dataInicio,t.dataFim=m.dataFim,t.horaInicio=m.horaInicio,t.horaFim=m.horaFim,0===Number(t.id)){e.next=22;break}return e.next=19,j.put("/eventos",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 19:a=e.sent,e.next=25;break;case 22:return e.next=24,j.post("/eventos",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 24:a=e.sent;case 25:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Evento salvo com sucesso!",{appearance:"success"}),b(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];console.log(e.target.value),p(o?Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},m[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},e.target.name,e.target.value)))},S=function(e){p(Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},e.target.name,e.target.checked)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"#".concat(m.id," - ").concat(null===m||void 0===m?void 0:m.descricao):"Novo Evento"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"titulo"},"Titulo:"),o.a.createElement("input",{className:"form-control",id:"titulo",name:"titulo",type:"text",value:m.titulo,onChange:k,required:!0})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"Status"},"Status:"),o.a.createElement("select",{name:"status",id:"status",className:"custom-select",value:m.status,onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))),o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"ehPago"},"\xc9 pago?"),o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"ehPago",name:"ehPago",checked:m.ehPago,onChange:S}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"ehPago"},m.ehPago?"Sim":"N\xe3o"))),m.ehPago?o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{type:"text",className:"form-control",id:"valor",name:"valor",onKeyDown:function(e){var a="";"Backspace"===e.key?a=m.valor.toString().slice(0,-1):e.key>=0&&e.key<=9&&(a="".concat(m.valor).concat(e.key).replace("undefined","")),p(Object(G.a)(Object(G.a)({},m),{},{valor:a}))},value:w.converteMoeda(m.valor,!0)})):o.a.createElement("div",{className:"col-md-2"}),o.a.createElement("div",{className:"col-md-8"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"repete"},"Se repete?"),o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"repete",name:"repete",checked:m.repete,onChange:S}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"repete"},m.repete?"Sim":"N\xe3o"))),m.repete?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{htmlFor:"diaSemana"},"Dia da Semana"),o.a.createElement("select",{name:"diaSemana",value:m.diaSemana,className:"custom-select",onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Domingo"),o.a.createElement("option",{value:"1"},"Segunda"),o.a.createElement("option",{value:"2"},"Ter\xe7a"),o.a.createElement("option",{value:"3"},"Quarta"),o.a.createElement("option",{value:"4"},"Quinta"),o.a.createElement("option",{value:"5"},"Sexta"),o.a.createElement("option",{value:"6"},"S\xe1bado"))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{htmlFor:"frequencia"},"Frequ\xeancia"),o.a.createElement("select",{name:"frequencia",id:"frequencia",value:m.frequencia,className:"custom-select",onChange:k},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Di\xe1ria"),o.a.createElement("option",{value:"1"},"Semanal"),o.a.createElement("option",{value:"2"},"Mensal"),o.a.createElement("option",{value:"3"},"Bimestral"),o.a.createElement("option",{value:"4"},"Trimestral"),o.a.createElement("option",{value:"5"},"Semestral"),o.a.createElement("option",{value:"6"},"Anual")))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataInicio"},"Data Inicial:"),o.a.createElement("input",{type:"date",className:"form-control",id:"dataInicio",name:"dataInicio",value:w.converteData(m.dataInicio,"YYYY-MM-DD"),onChange:k})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataFim"},"Data Final:"),o.a.createElement("input",{type:"date",className:"form-control",id:"dataFim",name:"dataFim",value:w.converteData(m.dataFim,"YYYY-MM-DD"),onChange:k}))),o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("label",{htmlFor:"tipo"},"Tipo:"),o.a.createElement("select",{name:"tipo",value:m.tipo,className:"custom-select",onChange:k,id:"tipo"},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"Interno"),o.a.createElement("option",{value:"1"},"Externo"))),"0"===m.tipo&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"horaInicio"},"Hora Inicial:"),o.a.createElement("input",{type:"time",className:"form-control",id:"horaInicio",name:"horaInicio",value:m.horaInicio,onChange:k})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"horaFim"},"Hora Final:"),o.a.createElement("input",{type:"time",className:"form-control",id:"horaFim",name:"horaFim",value:m.horaFim,onChange:k}))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return C()},disabled:h},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},Ve=["Di\xe1ria","Semanal","Mensal","Bimestral","Trimestral","Semestral","Anual"],Le=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"],He=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)(0),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)([]),C=Object(v.a)(x,2),k=C[0],S=C[1],F=Object(n.useState)(""),D=Object(v.a)(F,2),M=D[0],z=D[1],T=Object(s.useToasts)().addToast,B=y();Object(n.useEffect)((function(){N||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Eventos - Cadastro de membros CEM",e.next=3,j.get("/eventos",{headers:{Authorization:"Bearer ".concat(B.token)}});case 3:a=e.sent,r(a.data),h(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[h,N]);var A=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/eventos/"+a,{headers:{Authorization:"Bearer ".concat(B.token)}});case 2:e.sent.data.error?T("N\xe3o foi poss\xedvel remover o evento!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),T("Evento removido com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(){m({}),O(!N)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.titulo.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())}));S(a),z(e.target.value)},value:M,placeholder:"Pesquise por evento"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:M?k:t,titulo:"Eventos",mostrarBotaoNovo:!0,tituloBotao:"Novo Evento",handleShow:P},o.a.createElement(V,{campo:"titulo",titulo:"Titulo",tamanho:"10"}),o.a.createElement(V,{campo:"status",titulo:"Status",corpo:function(e){return e.status?"Ativo":"Inativo"},tamanho:"2"}),o.a.createElement(V,{campo:"ehPago",titulo:"Pago",corpo:function(e){return e.ehPago?"Sim":"N\xe3o"},tamanho:"2"}),o.a.createElement(V,{campo:"valor",titulo:"Valor",corpo:function(e){return e.valor?w.converteMoeda(e.valor):"-"},tamanho:"3"}),o.a.createElement(V,{campo:"repete",titulo:"Repete",corpo:function(e){return e.repete?"Sim":"N\xe3o"},tamanho:"2"}),o.a.createElement(V,{campo:"diaSemana",titulo:"Dia da Semana",tamanho:"4",corpo:function(e){return a=e.diaSemana,Le[a];var a}}),o.a.createElement(V,{campo:"frequencia",titulo:"Frequ\xeancia",corpo:function(e){return Ve[e.frequencia]},tamanho:"3"}),o.a.createElement(V,{campo:"dataInicio",titulo:"Data Inicial",corpo:function(e){return w.converteData(e.dataInicio,"DD/MM/YYYY")},tamanho:"5"}),o.a.createElement(V,{campo:"dataFim",titulo:"Data Final",corpo:function(e){return w.converteData(e.dataFim,"DD/MM/YYYY")},tamanho:"5"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return a=e,o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:a.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(a),O(!0)},title:"Editar evento"},o.a.createElement("i",{className:"fa fa-gear"}))," ",o.a.createElement("button",{key:a.id+"remover",type:"button",onClick:function(){return A(a.id)},value:a.id,className:"btn btn-danger btn-xs",title:"Remover evento"},o.a.createElement("i",{className:"fa fa-trash"})));var a},tamanho:"5"}))))),o.a.createElement(Re,{className:"modal-lg",data:i,show:N,handleShow:P}))},_e=function e(){Object(le.a)(this,e),this.explicitType="dizimo",this.id=0,this.idMembro="",this.dataDizimo="",this.valor="",this.nome=""},Ue=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=Object(n.useState)({}),m=Object(v.a)(i,2),p=m[0],f=m[1],E=Object(n.useState)(!1),h=Object(v.a)(E,2),b=h[0],g=h[1],N=Object(s.useToasts)(),O=N.addToast,x=N.removeAllToasts,C=y();Object(n.useEffect)((function(){f(a),x()}),[a]),Object(n.useEffect)((function(){g(!1)}),[t]);var k=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",g(!0),(t=new _e).id=p.id?p.id:0,t.nome=p.nome,t.dataDizimo=p.dataDizimo,t.valor=p.valor,t.chEsMembro=p.chEsMembro,0===Number(t.id)){e.next=14;break}return e.next=11,j.put("/dizimos",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,j.post("/dizimos",t,{headers:{Authorization:"Bearer ".concat(C.token)}});case 16:a=e.sent;case 17:a.data.error?(console.error(a.data.error),O("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):O("Dizimo salvo com sucesso!",{appearance:"success"}),g(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];f(o?Object(G.a)(Object(G.a)({},p),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},p[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},p),{},Object(U.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===p||void 0===p?void 0:p.id)?"#".concat(p.id," - ").concat(null===p||void 0===p?void 0:p.nome):"Novo Dizimo"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(pe,{className:"form-control col-md-12",onClick:function(e){f(Object(G.a)(Object(G.a)({},p),{},{nome:e.nome,chEsMembro:e.id}))},field:"nome",suggestions:l,value:p.nome,name:"nome",id:"nome",onChange:S,autoComplete:"off"})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"dataDizimo"},"Data:"),o.a.createElement("input",{className:"form-control",type:"date",name:"dataDizimo",id:"dataDizimo",value:w.converteData(p.dataDizimo,"YYYY-MM-DD"),onChange:S})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{className:"form-control",type:"text",name:"valor",id:"valor",value:p.valor,onChange:S})))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return k()},disabled:b},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:b},"Cancelar"))))},Ge=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)([]),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(""),C=Object(v.a)(x,2),k=C[0],S=C[1],F=Object(n.useState)([]),D=Object(v.a)(F,2),M=D[0],z=D[1],T=Object(n.useState)(!1),B=Object(v.a)(T,2),A=B[0],P=B[1],q=Object(s.useToasts)().addToast,Y=y();Object(n.useEffect)((function(){A||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/dizimos",{headers:{Authorization:"Bearer ".concat(Y.token)}});case 2:a=e.sent,r(a.data),O(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[A]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Dizimos - Cadastro de membros CEM",e.next=3,j.get("/membros",{headers:{Authorization:"Bearer ".concat(Y.token)}});case 3:a=e.sent,z(a.data.membros);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/dizimos/"+a,{headers:{Authorization:"Bearer ".concat(Y.token)}});case 2:e.sent.data.error?q("N\xe3o foi poss\xedvel remover o dizimo!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),q("Dizimo removida com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){m({}),P(!A)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:N,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.currentTarget.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}));h(a),S(e.target.value)},value:k,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:k?E:t,titulo:"D\xedzimos",mostrarBotaoNovo:!0,tituloBotao:"Novo D\xedzimo",handleShow:H},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"30"}),o.a.createElement(V,{campo:"dataDizimo",titulo:"Data",corpo:function(e){return w.converteData(e.dataDizimo,"DD/MM/YYYY")},tamanho:"8"}),o.a.createElement(V,{campo:"valor",titulo:"Valor",corpo:function(e){return w.converteMoeda(e.valor)},tamanho:"8"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),P(!0)},title:"Editar dizimo"},o.a.createElement("i",{className:"fa fa-gear"}))," ",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return L(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover dizimo"},o.a.createElement("i",{className:"fa fa-trash"})))}(e)},tamanho:"5"}))))),o.a.createElement(Ue,{className:"modal-lg",data:i,show:A,handleShow:H,membros:M}))},We=function e(){Object(le.a)(this,e),this.explicitType="oferta",this.id=0,this.valor="",this.data=""},Je=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=Object(n.useState)({}),i=Object(v.a)(l,2),m=i[0],p=i[1],f=Object(n.useState)(!1),E=Object(v.a)(f,2),h=E[0],b=E[1],g=Object(s.useToasts)(),N=g.addToast,O=g.removeAllToasts,x=y();Object(n.useEffect)((function(){p(a),O()}),[a]),Object(n.useEffect)((function(){b(!1)}),[t]);var C=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",b(!0),(t=new We).id=m.id?m.id:0,t.valor=m.valor,t.data=m.data,0===Number(t.id)){e.next=12;break}return e.next=9,j.put("/ofertas",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,j.post("/ofertas",t,{headers:{Authorization:"Bearer ".concat(x.token)}});case 14:a=e.sent;case 15:a.data.error?(console.error(a.data.error),N("Alguma coisa deu errado, por favor falar com o administrador!",{appearance:"error"})):N("Oferta salva com sucesso!",{appearance:"success"}),b(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];p(o?Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},n,Object(G.a)(Object(G.a)({},m[n]),{},Object(U.a)({},o,e.target.value)))):Object(G.a)(Object(G.a)({},m),{},Object(U.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===m||void 0===m?void 0:m.id)?"R$ ".concat(null===m||void 0===m?void 0:m.valor):"Nova Oferta"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"data"},"Data:"),o.a.createElement("input",{className:"form-control",type:"date",name:"data",id:"dataOferta",value:w.converteData(m.data,"YYYY-MM-DD"),onChange:k})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"valor"},"Valor:"),o.a.createElement("input",{className:"form-control",type:"text",name:"valor",id:"valor",value:m.valor,onChange:k})))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return C()},disabled:h},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:h},"Cancelar"))))},Ke=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)([]),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)(""),C=Object(v.a)(x,2),k=C[0],S=C[1],F=Object(n.useState)(!1),D=Object(v.a)(F,2),M=D[0],z=D[1],T=Object(s.useToasts)().addToast,B=y();Object(n.useEffect)((function(){M||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Ofertas - Cadastro de membros CEM",e.next=3,j.get("/ofertas",{headers:{Authorization:"Bearer ".concat(B.token)}});case 3:a=e.sent,r(a.data),O(a.data.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[M]),Object(n.useEffect)((function(){M||function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/ofertas",{headers:{Authorization:"Bearer ".concat(B.token)}});case 2:a=e.sent,r(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[M]);var A=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/ofertas",a,{headers:{Authorization:"Bearer ".concat(B.token)}});case 2:"OK"===e.sent?(n=t.filter((function(e){return e.id!==a})),r(n),T("Oferta removida com sucesso!",{appearance:"sucess"})):T("N\xe3o foi poss\xedvel remover o oferta!",{appearance:"error"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(){m({}),z(!M)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:N,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.dataOferta.toLowerCase().includes(e.currentTarget.value.toLowerCase())}));h(a),S(e.target.value)},value:k,placeholder:"Pesquise por data"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:k?E:t,titulo:"Ofertas",mostrarBotaoNovo:!0,tituloBotao:"Nova Oferta",handleShow:P},o.a.createElement(V,{campo:"valor",titulo:"Valor",corpo:function(e){return w.converteMoeda(e.valor)},tamanho:"10"}),o.a.createElement(V,{campo:"data",titulo:"Data",corpo:function(e){return w.converteData(e.data,"DD/MM/YYYY")},tamanho:"50"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),z(!0)},title:"Editar oferta"},o.a.createElement("i",{className:"fa fa-gear"})),"\xa0",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return A(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover oferta"},o.a.createElement("i",{className:"fa fa-trash"})))}(e)},tamanho:"5"}))))),o.a.createElement(Je,{className:"modal-lg",data:i,show:M,handleShow:P}))},Qe=function e(){Object(le.a)(this,e),this.explicitType="inscricao",this.id=0,this.nome="",this.email="",this.celular="",this.chEsEvento=0,this.pago=!1},$e=function(e){var a=e.data,t=e.show,r=e.handleShow,c=e.className,l=e.membros,i=e.eventos,m=Object(n.useState)({}),p=Object(v.a)(m,2),f=p[0],E=p[1],h=Object(n.useState)(!1),b=Object(v.a)(h,2),g=b[0],N=b[1],O=Object(s.useToasts)(),x=O.addToast,w=O.removeAllToasts,C=y();Object(n.useEffect)((function(){E(a),w()}),[a]),Object(n.useEffect)((function(){N(!1)}),[t]);var k=function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!0),(a=new Qe).id=f.id?f.id:0,a.nome=f.nome,a.email=f.email,a.celular=f.celular,a.pago=f.pago,a.chEsEvento=f.chEsEvento,t="",0!==a.id){e.next=15;break}return e.next=12,j.post("/inscricoes",a,{headers:{Authorization:"Bearer ".concat(C.token)}});case 12:t=e.sent,e.next=18;break;case 15:return e.next=17,j.put("/inscricoes",a,{headers:{Authorization:"Bearer ".concat(C.token)}});case 17:t=e.sent;case 18:t.data.error?x("Erro ao salvar inscri\xe7\xe3o!",{appearance:"error"}):(x("Inscri\xe7\xe3o salva com sucesso!",{appearance:"success"}),E({})),N(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var a=e.target.name.split("."),t=Object(v.a)(a,2),n=t[0],o=t[1];E(o?Object(G.a)(Object(G.a)({},f),{},Object(U.a)({},n,Object(U.a)({},o,e.target.value))):Object(G.a)(Object(G.a)({},f),{},Object(U.a)({},e.target.name,e.target.value)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{isOpen:t,toggle:r,className:c},o.a.createElement(X.a,{toggle:r},(null===f||void 0===f?void 0:f.id)?"#".concat(f.id," - ").concat(null===f||void 0===f?void 0:f.nome):"Nova Inscri\xe7\xe3o"),o.a.createElement(Z.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"nome"},"Nome:"),o.a.createElement(pe,{className:"form-control col-md-12",onClick:function(e){E(Object(G.a)(Object(G.a)({},f),{},{nome:e.nome,email:e.contato.email,celular:e.contato.celular,telefone:e.contato.telefone}))},field:"nome",suggestions:l,value:f.nome,name:"nome",id:"nome",onChange:S,autoComplete:"no"})),o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",{htmlFor:"email"},"E-mail:"),o.a.createElement("input",{className:"form-control",type:"text",name:"email",id:"email",value:f.email,onChange:S})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"celular"},"Celular:"),o.a.createElement("input",{className:"form-control",type:"text",name:"celular",id:"celular",value:f.celular,onChange:S})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"telefone"},"Telefone:"),o.a.createElement("input",{className:"form-control",type:"text",name:"telefone",id:"telefone",value:f.telefone,onChange:S})),o.a.createElement("div",{className:"form-group col-md-3"},o.a.createElement("label",{htmlFor:"pago"},"Pago:"),o.a.createElement("select",{name:"pago",id:"pago",className:"custom-select",value:f.pago,onChange:S},o.a.createElement("option",null,"Escolha..."),o.a.createElement("option",{value:"0"},"N\xe3o"),o.a.createElement("option",{value:"1"},"Sim"))),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("label",{htmlFor:"chEsEvento"},"Evento:"),o.a.createElement("select",{name:"chEsEvento",id:"chEsEvento",className:"custom-select",value:f.chEsEvento,onChange:S},o.a.createElement("option",null,"Escolha..."),i.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)})))))),o.a.createElement(re.a,null,o.a.createElement(ce.a,{type:"button",color:"success",onClick:function(){return k()},disabled:g},"Salvar")," ",o.a.createElement(ce.a,{type:"button",color:"danger",onClick:r,disabled:g},"Cancelar"))))},Xe=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({}),l=Object(v.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)(0),f=Object(v.a)(p,2),E=f[0],h=f[1],b=Object(n.useState)([]),g=Object(v.a)(b,2),N=g[0],O=g[1],x=Object(n.useState)([]),w=Object(v.a)(x,2),C=w[0],k=w[1],S=Object(n.useState)([]),F=Object(v.a)(S,2),D=F[0],M=F[1],z=Object(n.useState)(""),T=Object(v.a)(z,2),B=T[0],A=T[1],P=Object(n.useState)(!1),q=Object(v.a)(P,2),Y=q[0],L=q[1],H=Object(s.useToasts)().addToast,_=y();Object(n.useEffect)((function(){document.title="Inscri\xe7\xf5es - Cadastro de membros CEM",U()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/inscricoes",{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:a=e.sent,r(a.data),h(a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[Y]);var U=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/eventos",{headers:{Authorization:"Bearer ".concat(_.token)},params:{ativo:!0}});case 2:return a=e.sent,k(a.data),e.next=6,G();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/membros",{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:a=e.sent,O(a.data.membros);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){m({}),L(!Y)},J=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/inscricoes/"+a,{headers:{Authorization:"Bearer ".concat(_.token)}});case 2:e.sent.data.error?H("N\xe3o foi poss\xedvel remover o inscri\xe7\xe3o!",{appearance:"error"}):(n=t.filter((function(e){return e.id!==a})),r(n),H("Inscri\xe7\xe3o removida com sucesso!",{appearance:"success"}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"wrapper-content row"},o.a.createElement(I,{corFundo:"primary",icone:"user-circle-o",quantidade:E,titulo:"Total"}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-search color-gray"}))),o.a.createElement("input",{className:"form-control",onChange:function(e){var a=t.filter((function(a){return a.nome.toLowerCase().includes(e.currentTarget.value.toLowerCase())}));M(a),A(e.target.value)},value:B,placeholder:"Pesquise por nome ou sobrenome"})))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},o.a.createElement("div",{className:"overflow-hidden align-items-center"},o.a.createElement(R,{data:B?D:t,titulo:"Inscri\xe7\xf5es",mostrarBotaoNovo:!0,tituloBotao:"Nova Inscri\xe7\xe3o",handleShow:W},o.a.createElement(V,{campo:"nome",titulo:"Nome",tamanho:"15"}),o.a.createElement(V,{campo:"email",titulo:"E-mail",tamanho:"15"}),o.a.createElement(V,{campo:"telefone",titulo:"Telefone",tamanho:"10"}),o.a.createElement(V,{campo:"celular",titulo:"Celular",tamanho:"10"}),o.a.createElement(V,{campo:"evento",titulo:"Evento",tamanho:"10"}),o.a.createElement(V,{campo:"pago",titulo:"Pago",corpo:function(e){return function(e){return e.pago?"Sim":"N\xe3o"}(e)},tamanho:"8"}),o.a.createElement(V,{titulo:"Op\xe7\xf5es",corpo:function(e){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{key:e.id+"editar",className:"btn btn-primary btn-xs",onClick:function(){m(e),L(!0)},title:"Editar inscri\xe7\xe3o"},o.a.createElement("i",{className:"fa fa-gear"})),"\xa0",o.a.createElement("button",{key:e.id+"remover",type:"button",onClick:function(){return J(e.id)},value:e.id,className:"btn btn-danger btn-xs",title:"Remover inscri\xe7\xe3o"},o.a.createElement("i",{className:"fa fa-trash"})))}(e)},tamanho:"8"}))))),o.a.createElement($e,{className:"modal-lg",data:i,show:Y,handleShow:W,membros:N,eventos:C}))},Ze=t(41),ea=Ze.e.create({table:{flex:1,flexDirection:"column",alignSelf:"stretch",borderStyle:"solid",borderWidth:1,borderColor:"#757575",width:"90vw"},thead:{flex:1,flexDirection:"row",alignSelf:"stretch",backgroundColor:"#5c5c5c",color:"#fff"},trow:{flex:1,flexDirection:"row",alignSelf:"stretch"},trowBackground:{flex:1,flexDirection:"row",alignSelf:"stretch",backgroundColor:"#e2e2e2"},tcol:{width:"25%",borderStyle:"solid",borderTopWidth:1,borderRightWidth:1,borderColor:"#757575"},tcell:{lineHeight:1.4,margin:"auto",marginTop:5,paddingLeft:2,paddingRight:2,fontSize:10}}),aa=function(e){var a=e.data,t=e.children,r=void 0===t?[]:t;return o.a.createElement(Ze.g,{style:ea.table},o.a.createElement(Ze.g,{style:ea.thead,fixed:!0},r.map((function(e,a){return o.a.createElement(Ze.g,{style:[ea.tcol,{width:"".concat(e.props.size,"vw")}],key:a},o.a.createElement(Ze.f,{style:ea.tcell},e.props.title))}))),a.map((function(e,a){return o.a.createElement(Ze.g,{key:a,style:(t=a,t%2===0?ea.trow:ea.trowBackground)},n.Children.map(r,(function(a){var t=a.props.body?a.props.body(e):function(e,a){var t=e.split("."),n=Object(v.a)(t,2),o=n[0],r=n[1];return o&&r?a[o][r]:a[e]}(a.props.field,e);return o.a.cloneElement(a,{value:t,styles:ea,size:a.props.size})})));var t})))},ta=function(e){var a=e.value,t=e.styles,n=e.size;return o.a.createElement(Ze.g,{style:[t.tcol,{width:"".concat(n,"vw")}]},o.a.createElement(Ze.f,{style:t.tcell},a))},na=Ze.e.create({viewer:{width:"100vw",height:"100vh"},page:{display:"flex",flexDirection:"column",width:"100vw",fontSize:10,paddingTop:"2vh",paddingRight:"2vw",paddingBottom:"5vh",paddingLeft:"5vw"},header:{width:"90vw",display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",marginBottom:10},logo:{width:"10vw",height:"10vh"},headerText:{fontSize:18,fontWeight:"700",paddingRight:"2vw"},content:{display:"flex",justifyContent:"flex-start",width:"100%",marginBottom:"5vh"}}),oa=function(e){var a=Object(n.useState)([]),t=Object(v.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(!0),s=Object(v.a)(l,2),m=s[0],p=s[1],f=Object(i.g)();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.search,e.next=3,j.get("/relatorios/membros".concat(a));case 3:if(!(t=e.sent).data.error){e.next=6;break}return e.abrupt("return");case 6:c(t.data),p(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),m?o.a.createElement(B,null):o.a.createElement(Ze.c,{style:na.viewer},o.a.createElement(Ze.a,{title:"Relat\xf3rio de membros",style:{padding:"2rem"}},o.a.createElement(Ze.d,{size:"A4",style:na.page,orientation:"landscape"},o.a.createElement(Ze.g,{style:na.header,fixed:!0},o.a.createElement(Ze.b,{src:"cem.png",style:na.logo}),o.a.createElement(Ze.f,{style:na.headerText},"Relat\xf3rio de Membros")),o.a.createElement(Ze.g,{style:na.content},o.a.createElement(aa,{data:r},o.a.createElement(ta,{title:"Nome",field:"nome",size:"25"}),o.a.createElement(ta,{title:"E-mail",field:"email",size:"25"}),o.a.createElement(ta,{title:"Celular",field:"celular",size:"12"}),o.a.createElement(ta,{title:"Telefone",field:"telefone",size:"12"}),o.a.createElement(ta,{title:"Data de Nascimento",field:"dataNascimento",body:function(e){return w.converteData(e.dataNascimento,"DD/MM/YYYY")},size:"16"}))))))},ra=function(){return o.a.createElement(i.a,{path:"/relatorios/membro",component:oa})},ca=function(){var e=Object(n.useMemo)((function(){return{signIn:function(e){var a;a=e,sessionStorage.setItem(O,JSON.stringify(a))},signOut:function(){sessionStorage.removeItem(O)}}}),[]);return Object(n.useEffect)((function(){(document.title="Cadastro de membros CEM",window.matchMedia("(prefers-color-scheme: dark)").matches)&&(document.getElementById("favicon").href="logo_cem_branca.png")}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(C.Provider,{value:e},o.a.createElement(s.ToastProvider,{autoDismiss:!0},o.a.createElement(l.a,null,o.a.createElement(i.c,null,o.a.createElement(S,{exact:!0,path:"/dashboard",component:L,name:"Dashboard"}),o.a.createElement(S,{exact:!0,path:"/membro",component:Fe,name:"Membros"}),o.a.createElement(S,{exact:!0,path:"/visitante",component:Ie,name:"Visitantes"}),o.a.createElement(S,{exact:!0,path:"/ministerio",component:qe,name:"Minist\xe9rios"}),o.a.createElement(S,{exact:!0,path:"/evento",component:He,name:"Eventos"}),o.a.createElement(S,{exact:!0,path:"/inscricoes",component:Xe,name:"Inscri\xe7\xf5es"}),o.a.createElement(S,{exact:!0,path:"/dizimo",component:Ge,name:"Dizimos"}),o.a.createElement(S,{exact:!0,path:"/oferta",component:Ke,name:"Ofertas"}),o.a.createElement(S,{exact:!0,path:"/perfil",component:Q,name:"Perfil"}),o.a.createElement(S,{exact:!0,path:"/usuarios",component:Ee,name:"Usu\xe1rios"}),o.a.createElement(i.a,{path:"/relatorios/*",component:ra}),o.a.createElement(i.a,{exact:!0,path:"/recuperar",component:_}),o.a.createElement(i.a,{exact:!0,path:"/inscricao",component:K}),o.a.createElement(i.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(T,e)}}),o.a.createElement(i.a,{path:"*",component:H}))))))};t(673),t(674),t(675);c.a.render(o.a.createElement(ca,null),document.getElementById("root"))},76:function(e){e.exports=JSON.parse('{"homepage":"https://ruivotech.github.io/cem-mono/","name":"cem","version":"2.2.4","private":true,"dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.27","@fortawesome/free-solid-svg-icons":"^5.12.1","@fortawesome/react-fontawesome":"^0.1.8","@material-ui/core":"^4.9.0","@material-ui/icons":"^4.5.1","@material-ui/lab":"^4.0.0-alpha.42","@react-pdf/renderer":"^1.6.10","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","axios":"^0.19.2","bootstrap":"^4.4.1","font-awesome":"^4.7.0","jsonwebtoken":"^8.5.1","primeicons":"^2.0.0","primereact":"^3.4.0","prop-types":"^15.7.2","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"^3.4.3","react-toast-notifications":"^2.4.0","reactstrap":"^8.4.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-notification-system":"^0.2.39","gh-pages":"^2.2.0"}}')}},[[363,1,2]]]);
//# sourceMappingURL=main.9b3217b4.chunk.js.map